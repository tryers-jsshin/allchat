(()=>{var a={};a.id=974,a.ids=[974],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},478:(a,b,c)=>{"use strict";a.exports=c(4040)},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},2544:(a,b,c)=>{"use strict";c.d(b,{E:()=>h});var d=c(8743);c(8301);var e=c(6691),f=c(5514);let g=(0,e.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function h({className:a,variant:b,...c}){return(0,d.jsx)("div",{className:(0,f.cn)(g({variant:b}),a),...c})}},2966:(a,b,c)=>{"use strict";c.d(b,{F:()=>h});var d=c(8743),e=c(8301),f=c(9166),g=c(5514);let h=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(f.bL,{ref:e,className:(0,g.cn)("relative overflow-hidden",a),...c,children:[(0,d.jsx)(f.LM,{className:"h-full w-full rounded-[inherit]",children:b}),(0,d.jsx)(i,{}),(0,d.jsx)(f.OK,{})]}));h.displayName=f.bL.displayName;let i=e.forwardRef(({className:a,orientation:b="vertical",...c},e)=>(0,d.jsx)(f.VM,{ref:e,orientation:b,className:(0,g.cn)("flex touch-none select-none transition-colors","vertical"===b&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===b&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...c,children:(0,d.jsx)(f.lr,{className:"relative flex-1 rounded-full bg-border"})}));i.displayName=f.VM.displayName},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:a=>{"use strict";a.exports=require("path")},4040:(a,b,c)=>{"use strict";var d=c(8301),e="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},f=d.useSyncExternalStore,g=d.useRef,h=d.useEffect,i=d.useMemo,j=d.useDebugValue;b.useSyncExternalStoreWithSelector=function(a,b,c,d,k){var l=g(null);if(null===l.current){var m={hasValue:!1,value:null};l.current=m}else m=l.current;var n=f(a,(l=i(function(){function a(a){if(!h){if(h=!0,f=a,a=d(a),void 0!==k&&m.hasValue){var b=m.value;if(k(b,a))return g=b}return g=a}if(b=g,e(f,a))return b;var c=d(a);return void 0!==k&&k(b,c)?(f=a,b):(f=a,g=c)}var f,g,h=!1,i=void 0===c?null:c;return[function(){return a(b())},null===i?void 0:function(){return a(i())}]},[b,c,d,k]))[0],l[1]);return h(function(){m.hasValue=!0,m.value=n},[n]),j(n),n}},4193:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>dU});var d,e,f,g,h,i,j=c(8743),k=c(8301),l=c.t(k,2),m=c(2544),n=c(2966),o=c(8877),p=c(7629),q=c(8285),r=c(3339);let s=(0,r.A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var t=c(5514);function u({channel:a,className:b="w-4 h-4"}){switch(a){case"kakao":return(0,j.jsx)("svg",{className:b,viewBox:"0 0 24 24",fill:"currentColor",children:(0,j.jsx)("path",{d:"M12 3C6.477 3 2 6.477 2 10.5c0 2.577 1.83 4.837 4.582 6.135-.2.863-.73 3.117-.84 3.609-.137.623.23.618.482.45.195-.13 3.1-2.106 4.364-2.96.458.064.93.096 1.412.096 5.523 0 10-3.477 10-7.77S17.523 3 12 3z",fill:"#FFD700"})});case"instagram":return(0,j.jsxs)("svg",{className:b,viewBox:"0 0 24 24",fill:"none",children:[(0,j.jsx)("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",stroke:"url(#instagram-gradient)",strokeWidth:"2"}),(0,j.jsx)("circle",{cx:"12",cy:"12",r:"4",stroke:"url(#instagram-gradient)",strokeWidth:"2"}),(0,j.jsx)("circle",{cx:"17.5",cy:"6.5",r:"1.5",fill:"url(#instagram-gradient)"}),(0,j.jsx)("defs",{children:(0,j.jsxs)("linearGradient",{id:"instagram-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[(0,j.jsx)("stop",{offset:"0%",stopColor:"#f09433"}),(0,j.jsx)("stop",{offset:"25%",stopColor:"#e6683c"}),(0,j.jsx)("stop",{offset:"50%",stopColor:"#dc2743"}),(0,j.jsx)("stop",{offset:"75%",stopColor:"#cc2366"}),(0,j.jsx)("stop",{offset:"100%",stopColor:"#bc1888"})]})})]});case"naver":return(0,j.jsx)("svg",{className:b,viewBox:"0 0 24 24",fill:"currentColor",children:(0,j.jsx)("path",{d:"M3 3v18h6.5v-7.5L14.5 21H21V3h-6.5v7.5L9.5 3H3z",fill:"#03C75A"})});case"wechat":return(0,j.jsxs)("svg",{className:b,viewBox:"0 0 24 24",fill:"currentColor",children:[(0,j.jsx)("path",{d:"M15.85 8.14c.39 0 .77.03 1.14.08C16.31 5.25 13.19 3 9.44 3c-4.25 0-7.7 2.88-7.7 6.43 0 2.05 1.15 3.86 3.08 5.2l-.77 2.31 2.69-1.34c.96.19 1.73.38 2.69.38.24 0 .48-.01.71-.03a5.483 5.483 0 01-.23-1.52c0-3.18 2.73-5.77 6.09-5.77zm-3.85-1.93c.58 0 .96.38.96.96 0 .58-.38.96-.96.96s-1.15-.38-1.15-.96c0-.58.58-.96 1.15-.96zM6.56 7.17c-.58 0-1.15-.38-1.15-.96 0-.58.58-.96 1.15-.96.58 0 .96.38.96.96 0 .58-.38.96-.96.96z",fill:"#7BB32E"}),(0,j.jsx)("path",{d:"M22.26 14.43c0-2.88-2.88-5.24-6.12-5.24-3.43 0-6.13 2.36-6.13 5.24 0 2.89 2.7 5.24 6.13 5.24.77 0 1.35-.19 2.12-.38l1.93.96-.58-1.73c1.54-1.15 2.69-2.69 2.69-4.09zm-8.09-.96c-.38 0-.77-.38-.77-.77s.38-.77.77-.77c.58 0 .96.38.96.77 0 .38-.38.77-.96.77zm3.85 0c-.38 0-.77-.38-.77-.77s.38-.77.77-.77c.58 0 .96.38.96.77 0 .38-.38.77-.96.77z",fill:"#7BB32E"})]});case"line":return(0,j.jsx)("svg",{className:b,viewBox:"0 0 24 24",fill:"currentColor",children:(0,j.jsx)("path",{d:"M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.63 0 .349-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.627-.63.349 0 .631.285.631.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.349 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314",fill:"#00B900"})});default:return null}}function v({customers:a,selectedCustomerId:b,onSelectCustomer:c}){let[d,e]=(0,k.useState)("active"),[f,g]=(0,k.useState)(""),h=(0,k.useMemo)(()=>a.reduce((a,b)=>(a[b.status]=(a[b.status]||0)+1,a),{}),[a]),i=(0,k.useMemo)(()=>{let b=a;return"active"===d?b=b.filter(a=>"processing"===a.status||"hold"===a.status||"waiting-customer"===a.status||"waiting-other"===a.status):"completed"===d&&(b=b.filter(a=>"completed"===a.status)),f&&(b=b.filter(a=>a.name.toLowerCase().includes(f.toLowerCase()))),b},[a,d,f]);return(0,j.jsxs)("div",{className:"h-full border-r bg-muted/10",children:[(0,j.jsxs)("div",{className:"p-4",children:[(0,j.jsx)("h2",{className:"text-lg font-semibold mb-3",children:"고객 메시지"}),(0,j.jsx)(o.tU,{value:d,onValueChange:a=>e(a),children:(0,j.jsxs)(o.j7,{className:"grid w-full grid-cols-3 mb-3",children:[(0,j.jsx)(o.Xi,{value:"active",className:"text-xs data-[state=active]:text-xs",children:(0,j.jsxs)("span",{className:"flex items-center gap-1",children:["진행 중",(0,j.jsx)("span",{className:"text-[10px] font-bold text-orange-500",children:(h.processing||0)+(h.hold||0)+(h["waiting-customer"]||0)+(h["waiting-other"]||0)})]})}),(0,j.jsx)(o.Xi,{value:"all",className:"text-xs data-[state=active]:text-xs",children:(0,j.jsxs)("span",{className:"flex items-center gap-1",children:["전체",(0,j.jsx)("span",{className:"text-[10px] font-normal text-muted-foreground",children:a.length})]})}),(0,j.jsx)(o.Xi,{value:"completed",className:"text-xs data-[state=active]:text-xs",children:(0,j.jsxs)("span",{className:"flex items-center gap-1",children:["완료",(0,j.jsx)("span",{className:"text-[10px] font-normal text-muted-foreground",children:h.completed||0})]})})]})}),(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,j.jsx)(p.p,{type:"text",placeholder:"이름 검색...",value:f,onChange:a=>g(a.target.value),className:"pl-9 pr-9 h-9 text-xs"}),f&&(0,j.jsx)("button",{onClick:()=>g(""),className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 hover:bg-muted rounded",children:(0,j.jsx)(s,{className:"h-3 w-3 text-muted-foreground"})})]})]}),(0,j.jsx)(n.F,{className:"h-[calc(100vh-8rem)]",children:(0,j.jsx)("div",{className:"p-2",children:0===i.length?(0,j.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,j.jsx)("p",{className:"text-sm",children:"해당 상태의 고객이 없습니다"})}):i.map(a=>(0,j.jsx)("div",{onClick:()=>c(a.id),className:(0,t.cn)("relative flex items-center p-3 rounded-lg cursor-pointer hover:bg-accent transition-colors mb-2 h-20",b===a.id&&"bg-accent"),style:{borderLeft:"processing"===a.status?"3px solid rgb(252 165 165)":"3px solid transparent",paddingLeft:"16px",paddingRight:"16px"},children:(0,j.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("h3",{className:"font-medium text-sm",children:a.name}),(0,j.jsx)(u,{channel:a.channel,className:"w-4 h-4"})]}),(0,j.jsx)("span",{className:"text-muted-foreground",style:{fontSize:"10px"},children:(a=>{let b=new Date,c=Math.floor((b.getTime()-a.getTime())/864e5);return 0===c?new Intl.DateTimeFormat("ko-KR",{hour:"numeric",minute:"2-digit"}).format(a):1===c?"어제":a.getFullYear()===b.getFullYear()?new Intl.DateTimeFormat("ko-KR",{month:"long",day:"numeric"}).format(a):new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"numeric",day:"numeric"}).format(a)})(a.lastMessageTime)})]}),(0,j.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,j.jsx)("p",{className:"text-xs text-muted-foreground flex-1 line-clamp-2",children:a.lastMessage}),void 0!==a.unreadCount&&a.unreadCount>0&&(0,j.jsx)(m.E,{variant:"destructive",className:"h-4 px-1 text-[10px] flex-shrink-0 min-w-[18px] flex items-center justify-center mt-0.5",children:a.unreadCount})]})]})},a.id))})})]})}var w=c(9217);let x=k.forwardRef(({className:a,...b},c)=>(0,j.jsx)("textarea",{className:(0,t.cn)("flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:c,...b}));x.displayName="Textarea";let y="undefined"!=typeof document?k.useLayoutEffect:()=>{},z=null!=(d=k.useInsertionEffect)?d:y;function A(a){return a.nativeEvent=a,a.isDefaultPrevented=()=>a.defaultPrevented,a.isPropagationStopped=()=>a.cancelBubble,a.persist=()=>{},a}function B(a){let b=(0,k.useRef)({isFocused:!1,observer:null});y(()=>{let a=b.current;return()=>{a.observer&&(a.observer.disconnect(),a.observer=null)}},[]);let c=function(a){let b=(0,k.useRef)(null);return z(()=>{b.current=a},[a]),(0,k.useCallback)((...a)=>{let c=b.current;return null==c?void 0:c(...a)},[])}(b=>{null==a||a(b)});return(0,k.useCallback)(a=>{if(a.target instanceof HTMLButtonElement||a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement){b.current.isFocused=!0;let d=a.target;d.addEventListener("focusout",a=>{b.current.isFocused=!1,d.disabled&&c(A(a)),b.current.observer&&(b.current.observer.disconnect(),b.current.observer=null)},{once:!0}),b.current.observer=new MutationObserver(()=>{if(b.current.isFocused&&d.disabled){var a;null==(a=b.current.observer)||a.disconnect();let c=d===document.activeElement?null:document.activeElement;d.dispatchEvent(new FocusEvent("blur",{relatedTarget:c})),d.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:c}))}}),b.current.observer.observe(d,{attributes:!0,attributeFilter:["disabled"]})}},[c])}function C(a){var b;if("undefined"==typeof window||null==window.navigator)return!1;let c=null==(b=window.navigator.userAgentData)?void 0:b.brands;return Array.isArray(c)&&c.some(b=>a.test(b.brand))||a.test(window.navigator.userAgent)}function D(a){var b;return"undefined"!=typeof window&&null!=window.navigator&&a.test((null==(b=window.navigator.userAgentData)?void 0:b.platform)||window.navigator.platform)}function E(a){let b=null;return()=>(null==b&&(b=a()),b)}let F=E(function(){return D(/^Mac/i)}),G=E(function(){return D(/^iPhone/i)}),H=E(function(){return D(/^iPad/i)||F()&&navigator.maxTouchPoints>1}),I=E(function(){return G()||H()});E(function(){return F()||I()}),E(function(){return C(/AppleWebKit/i)&&!J()});let J=E(function(){return C(/Chrome/i)}),K=E(function(){return C(/Android/i)});E(function(){return C(/Firefox/i)});let L=a=>{var b;return null!=(b=null==a?void 0:a.ownerDocument)?b:document},M=a=>a&&"window"in a&&a.window===a?a:L(a).defaultView||window,N=null,O=new Set,P=new Map,Q=!1,R=!1,S={Tab:!0,Escape:!0};function T(a,b){for(let c of O)c(a,b)}function U(a){Q=!0,a.metaKey||!F()&&a.altKey||a.ctrlKey||"Control"===a.key||"Shift"===a.key||"Meta"===a.key||(N="keyboard",T("keyboard",a))}function V(a){N="pointer",("mousedown"===a.type||"pointerdown"===a.type)&&(Q=!0,T("pointer",a))}function W(a){(0===a.mozInputSource&&a.isTrusted||(K()&&a.pointerType?"click"===a.type&&1===a.buttons:0===a.detail&&!a.pointerType))&&(Q=!0,N="virtual")}function X(a){a.target!==window&&a.target!==document&&a.isTrusted&&(Q||R||(N="virtual",T("virtual",a)),Q=!1,R=!1)}function Y(){Q=!1,R=!0}function Z(a){if("undefined"==typeof window||"undefined"==typeof document||P.get(M(a)))return;let b=M(a),c=L(a),d=b.HTMLElement.prototype.focus;b.HTMLElement.prototype.focus=function(){Q=!0,d.apply(this,arguments)},c.addEventListener("keydown",U,!0),c.addEventListener("keyup",U,!0),c.addEventListener("click",W,!0),b.addEventListener("focus",X,!0),b.addEventListener("blur",Y,!1),"undefined"!=typeof PointerEvent&&(c.addEventListener("pointerdown",V,!0),c.addEventListener("pointermove",V,!0),c.addEventListener("pointerup",V,!0)),b.addEventListener("beforeunload",()=>{$(a)},{once:!0}),P.set(b,{focus:d})}let $=(a,b)=>{let c=M(a),d=L(a);b&&d.removeEventListener("DOMContentLoaded",b),P.has(c)&&(c.HTMLElement.prototype.focus=P.get(c).focus,d.removeEventListener("keydown",U,!0),d.removeEventListener("keyup",U,!0),d.removeEventListener("click",W,!0),c.removeEventListener("focus",X,!0),c.removeEventListener("blur",Y,!1),"undefined"!=typeof PointerEvent&&(d.removeEventListener("pointerdown",V,!0),d.removeEventListener("pointermove",V,!0),d.removeEventListener("pointerup",V,!0)),P.delete(c))};function _(){return"pointer"!==N}"undefined"!=typeof document&&function(a){let b,c=L(void 0);"loading"!==c.readyState?Z(void 0):(b=()=>{Z(a)},c.addEventListener("DOMContentLoaded",b)),()=>$(a,b)}();let aa=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function ab(a,b){return!!b&&!!a&&a.contains(b)}function ac(){let a=(0,k.useRef)(new Map),b=(0,k.useCallback)((b,c,d,e)=>{let f=(null==e?void 0:e.once)?(...b)=>{a.current.delete(d),d(...b)}:d;a.current.set(d,{type:c,eventTarget:b,fn:f,options:e}),b.addEventListener(c,f,e)},[]),c=(0,k.useCallback)((b,c,d,e)=>{var f;let g=(null==(f=a.current.get(d))?void 0:f.fn)||d;b.removeEventListener(c,g,e),a.current.delete(d)},[]),d=(0,k.useCallback)(()=>{a.current.forEach((a,b)=>{c(a.eventTarget,a.type,b,a.options)})},[c]);return(0,k.useEffect)(()=>d,[d]),{addGlobalListener:b,removeGlobalListener:c,removeAllGlobalListeners:d}}let ad=!1,ae=0;function af(a){"touch"===a.pointerType&&(ad=!0,setTimeout(()=>{ad=!1},50))}function ag(){if("undefined"!=typeof document)return 0===ae&&"undefined"!=typeof PointerEvent&&document.addEventListener("pointerup",af),ae++,()=>{--ae>0||"undefined"!=typeof PointerEvent&&document.removeEventListener("pointerup",af)}}var ah=c(3312),ai=Object.defineProperty,aj=(a,b,c)=>(((a,b,c)=>b in a?ai(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c),c);class ak{constructor(){aj(this,"current",this.detect()),aj(this,"handoffState","pending"),aj(this,"currentId",0)}set(a){this.current!==a&&(this.handoffState="pending",this.currentId=0,this.current=a)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"server"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}}let al=new ak;function am(a){var b,c;return al.isServer?null:a?"ownerDocument"in a?a.ownerDocument:"current"in a?null!=(c=null==(b=a.current)?void 0:b.ownerDocument)?c:document:null:document}function an(){let a=[],b={addEventListener:(a,c,d,e)=>(a.addEventListener(c,d,e),b.add(()=>a.removeEventListener(c,d,e))),requestAnimationFrame(...a){let c=requestAnimationFrame(...a);return b.add(()=>cancelAnimationFrame(c))},nextFrame:(...a)=>b.requestAnimationFrame(()=>b.requestAnimationFrame(...a)),setTimeout(...a){let c=setTimeout(...a);return b.add(()=>clearTimeout(c))},microTask(...a){var c;let d={current:!0};return c=()=>{d.current&&a[0]()},"function"==typeof queueMicrotask?queueMicrotask(c):Promise.resolve().then(c).catch(a=>setTimeout(()=>{throw a})),b.add(()=>{d.current=!1})},style(a,b,c){let d=a.style.getPropertyValue(b);return Object.assign(a.style,{[b]:c}),this.add(()=>{Object.assign(a.style,{[b]:d})})},group(a){let b=an();return a(b),this.add(()=>b.dispose())},add:b=>(a.includes(b)||a.push(b),()=>{let c=a.indexOf(b);if(c>=0)for(let b of a.splice(c,1))b()}),dispose(){for(let b of a.splice(0))b()}};return b}function ao(){let[a]=(0,k.useState)(an);return a}let ap=(a,b)=>{al.isServer?(0,k.useEffect)(a,b):(0,k.useLayoutEffect)(a,b)};function aq(a){let b=(0,k.useRef)(a);return ap(()=>{b.current=a},[a]),b}let ar=function(a){let b=aq(a);return k.useCallback((...a)=>b.current(...a),[b])};class as extends Map{constructor(a){super(),this.factory=a}get(a){let b=super.get(a);return void 0===b&&(b=this.factory(a),this.set(a,b)),b}}var at=Object.defineProperty,au=(a,b,c)=>{if(!b.has(a))throw TypeError("Cannot "+c)},av=(a,b,c)=>(au(a,b,"read from private field"),c?c.call(a):b.get(a)),aw=(a,b,c)=>{if(b.has(a))throw TypeError("Cannot add the same private member more than once");b instanceof WeakSet?b.add(a):b.set(a,c)},ax=(a,b,c,d)=>(au(a,b,"write to private field"),d?d.call(a,c):b.set(a,c),c);class ay{constructor(a){aw(this,e,{}),aw(this,f,new as(()=>new Set)),aw(this,g,new Set),((a,b,c)=>((a,b,c)=>b in a?at(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c))(this,"disposables",an()),ax(this,e,a),al.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return av(this,e)}subscribe(a,b){if(al.isServer)return()=>{};let c={selector:a,callback:b,current:a(av(this,e))};return av(this,g).add(c),this.disposables.add(()=>{av(this,g).delete(c)})}on(a,b){return al.isServer?()=>{}:(av(this,f).get(a).add(b),this.disposables.add(()=>{av(this,f).get(a).delete(b)}))}send(a){let b=this.reduce(av(this,e),a);if(b!==av(this,e)){for(let a of(ax(this,e,b),av(this,g))){let b=a.selector(av(this,e));az(a.current,b)||(a.current=b,a.callback(b))}for(let b of av(this,f).get(a.type))b(av(this,e),a)}}}function az(a,b){return!!Object.is(a,b)||"object"==typeof a&&null!==a&&"object"==typeof b&&null!==b&&(Array.isArray(a)&&Array.isArray(b)?a.length===b.length&&aA(a[Symbol.iterator](),b[Symbol.iterator]()):a instanceof Map&&b instanceof Map||a instanceof Set&&b instanceof Set?a.size===b.size&&aA(a.entries(),b.entries()):!!(aB(a)&&aB(b))&&aA(Object.entries(a)[Symbol.iterator](),Object.entries(b)[Symbol.iterator]()))}function aA(a,b){for(;;){let c=a.next(),d=b.next();if(c.done&&d.done)return!0;if(c.done||d.done||!Object.is(c.value,d.value))return!1}}function aB(a){if("[object Object]"!==Object.prototype.toString.call(a))return!1;let b=Object.getPrototypeOf(a);return null===b||null===Object.getPrototypeOf(b)}function aC(a){let[b,c]=a(),d=an();return(...a)=>{b(...a),d.dispose(),d.microTask(c)}}function aD(a,b,...c){if(a in b){let d=b[a];return"function"==typeof d?d(...c):d}let d=Error(`Tried to handle "${a}" but there is no handler defined. Only defined handlers are: ${Object.keys(b).map(a=>`"${a}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(d,aD),d}e=new WeakMap,f=new WeakMap,g=new WeakMap;var aE=Object.defineProperty,aF=(a,b,c)=>(((a,b,c)=>b in a?aE(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c),c),aG=(a=>(a[a.Push=0]="Push",a[a.Pop=1]="Pop",a))(aG||{});let aH={0(a,b){let c=b.id,d=a.stack,e=a.stack.indexOf(c);if(-1!==e){let b=a.stack.slice();return b.splice(e,1),b.push(c),d=b,{...a,stack:d}}return{...a,stack:[...a.stack,c]}},1(a,b){let c=b.id,d=a.stack.indexOf(c);if(-1===d)return a;let e=a.stack.slice();return e.splice(d,1),{...a,stack:e}}};class aI extends ay{constructor(){super(...arguments),aF(this,"actions",{push:a=>this.send({type:0,id:a}),pop:a=>this.send({type:1,id:a})}),aF(this,"selectors",{isTop:(a,b)=>a.stack[a.stack.length-1]===b,inStack:(a,b)=>a.stack.includes(b)})}static new(){return new aI({stack:[]})}reduce(a,b){return aD(b.type,aH,a,b)}}let aJ=new as(()=>aI.new());var aK=c(478);function aL(a,b,c=az){return(0,aK.useSyncExternalStoreWithSelector)(ar(b=>a.subscribe(aM,b)),ar(()=>a.state),ar(()=>a.state),ar(b),c)}function aM(a){return a}function aN(a,b){let c=(0,k.useId)(),d=aJ.get(b),[e,f]=aL(d,(0,k.useCallback)(a=>[d.selectors.isTop(a,c),d.selectors.inStack(a,c)],[d,c]));return ap(()=>{if(a)return d.actions.push(c),()=>d.actions.pop(c)},[d,a,c]),!!a&&(!f||e)}let aO=new Map,aP=new Map;function aQ(a){var b;let c=null!=(b=aP.get(a))?b:0;return aP.set(a,c+1),0!==c||(aO.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),a.setAttribute("aria-hidden","true"),a.inert=!0),()=>(function(a){var b;let c=null!=(b=aP.get(a))?b:1;if(1===c?aP.delete(a):aP.set(a,c-1),1!==c)return;let d=aO.get(a);d&&(null===d["aria-hidden"]?a.removeAttribute("aria-hidden"):a.setAttribute("aria-hidden",d["aria-hidden"]),a.inert=d.inert,aO.delete(a))})(a)}function aR(a){return"object"==typeof a&&null!==a&&"nodeType"in a}function aS(a){return aR(a)&&"tagName"in a}function aT(a){return aS(a)&&"accessKey"in a}function aU(a){return aS(a)&&"tabIndex"in a}function aV(a){return aT(a)&&"INPUT"===a.nodeName}function aW(a){return aT(a)&&"LABEL"===a.nodeName}function aX(a){return aT(a)&&"LEGEND"===a.nodeName}let aY=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(a=>`${a}:not([tabindex='-1'])`).join(","),aZ=["[data-autofocus]"].map(a=>`${a}:not([tabindex='-1'])`).join(",");var a$=(a=>(a[a.First=1]="First",a[a.Previous=2]="Previous",a[a.Next=4]="Next",a[a.Last=8]="Last",a[a.WrapAround=16]="WrapAround",a[a.NoScroll=32]="NoScroll",a[a.AutoFocus=64]="AutoFocus",a))(a$||{}),a_=(a=>(a[a.Error=0]="Error",a[a.Overflow=1]="Overflow",a[a.Success=2]="Success",a[a.Underflow=3]="Underflow",a))(a_||{}),a0=(a=>(a[a.Previous=-1]="Previous",a[a.Next=1]="Next",a))(a0||{});function a1(a=document.body){return null==a?[]:Array.from(a.querySelectorAll(aY)).sort((a,b)=>Math.sign((a.tabIndex||Number.MAX_SAFE_INTEGER)-(b.tabIndex||Number.MAX_SAFE_INTEGER)))}var a2=(a=>(a[a.Strict=0]="Strict",a[a.Loose=1]="Loose",a))(a2||{});function a3(a,b=0){var c;return a!==(null==(c=am(a))?void 0:c.body)&&aD(b,{0:()=>a.matches(aY),1(){let b=a;for(;null!==b;){if(b.matches(aY))return!0;b=b.parentElement}return!1}})}function a4(a){let b=am(a);an().nextFrame(()=>{var c;b&&aU(b.activeElement)&&!a3(b.activeElement,0)&&(null==(c=a)||c.focus({preventScroll:!0}))})}var a5=(a=>(a[a.Keyboard=0]="Keyboard",a[a.Mouse=1]="Mouse",a))(a5||{});function a6(a,b=a=>a){return a.slice().sort((a,c)=>{let d=b(a),e=b(c);if(null===d||null===e)return 0;let f=d.compareDocumentPosition(e);return f&Node.DOCUMENT_POSITION_FOLLOWING?-1:f&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function a7(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function a8(){return a7()||/Android/gi.test(window.navigator.userAgent)}function a9(...a){return(0,k.useMemo)(()=>am(...a),[...a])}var ba=(a=>(a[a.Ignore=0]="Ignore",a[a.Select=1]="Select",a[a.Close=2]="Close",a))(ba||{});let bb={Ignore:{kind:0},Select:a=>({kind:1,target:a}),Close:{kind:2}},bc=function(a,b){let c=a(),d=new Set;return{getSnapshot:()=>c,subscribe:a=>(d.add(a),()=>d.delete(a)),dispatch(a,...e){let f=b[a].call(c,...e);f&&(c=f,d.forEach(a=>a()))}}}(()=>new Map,{PUSH(a,b){var c;let d=null!=(c=this.get(a))?c:{doc:a,count:0,d:an(),meta:new Set};return d.count++,d.meta.add(b),this.set(a,d),this},POP(a,b){let c=this.get(a);return c&&(c.count--,c.meta.delete(b)),this},SCROLL_PREVENT({doc:a,d:b,meta:c}){let d,e={doc:a,d:b,meta:function(a){let b={};for(let c of a)Object.assign(b,c(b));return b}(c)},f=[a7()?{before({doc:a,d:b,meta:c}){function d(a){return c.containers.flatMap(a=>a()).some(b=>b.contains(a))}b.microTask(()=>{var c;if("auto"!==window.getComputedStyle(a.documentElement).scrollBehavior){let c=an();c.style(a.documentElement,"scrollBehavior","auto"),b.add(()=>b.microTask(()=>c.dispose()))}let e=null!=(c=window.scrollY)?c:window.pageYOffset,f=null;b.addEventListener(a,"click",b=>{if(aU(b.target))try{let c=b.target.closest("a");if(!c)return;let{hash:e}=new URL(c.href),g=a.querySelector(e);aU(g)&&!d(g)&&(f=g)}catch{}},!0),b.addEventListener(a,"touchstart",a=>{var c;if(aU(a.target)&&aS(c=a.target)&&"style"in c)if(d(a.target)){let c=a.target;for(;c.parentElement&&d(c.parentElement);)c=c.parentElement;b.style(c,"overscrollBehavior","contain")}else b.style(a.target,"touchAction","none")}),b.addEventListener(a,"touchmove",a=>{if(aU(a.target)&&!aV(a.target))if(d(a.target)){let b=a.target;for(;b.parentElement&&""!==b.dataset.headlessuiPortal&&!(b.scrollHeight>b.clientHeight||b.scrollWidth>b.clientWidth);)b=b.parentElement;""===b.dataset.headlessuiPortal&&a.preventDefault()}else a.preventDefault()},{passive:!1}),b.add(()=>{var a;e!==(null!=(a=window.scrollY)?a:window.pageYOffset)&&window.scrollTo(0,e),f&&f.isConnected&&(f.scrollIntoView({block:"nearest"}),f=null)})})}}:{},{before({doc:a}){var b;let c=a.documentElement;d=Math.max(0,(null!=(b=a.defaultView)?b:window).innerWidth-c.clientWidth)},after({doc:a,d:b}){let c=a.documentElement,e=Math.max(0,c.clientWidth-c.offsetWidth),f=Math.max(0,d-e);b.style(c,"paddingRight",`${f}px`)}},{before({doc:a,d:b}){b.style(a.documentElement,"overflow","hidden")}}];f.forEach(({before:a})=>null==a?void 0:a(e)),f.forEach(({after:a})=>null==a?void 0:a(e))},SCROLL_ALLOW({d:a}){a.dispose()},TEARDOWN({doc:a}){this.delete(a)}});bc.subscribe(()=>{let a=bc.getSnapshot(),b=new Map;for(let[c]of a)b.set(c,c.documentElement.style.overflow);for(let c of a.values()){let a="hidden"===b.get(c.doc),d=0!==c.count;(d&&!a||!d&&a)&&bc.dispatch(c.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",c),0===c.count&&bc.dispatch("TEARDOWN",c)}});let bd=Symbol();function be(...a){let b=(0,k.useRef)(a),c=ar(a=>{for(let c of b.current)null!=c&&("function"==typeof c?c(a):c.current=a)});return a.every(a=>null==a||(null==a?void 0:a[bd]))?void 0:c}let bf=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function bg(a){var b,c;let d=null!=(b=a.innerText)?b:"",e=a.cloneNode(!0);if(!aT(e))return d;let f=!1;for(let a of e.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),f=!0;let g=f?null!=(c=e.innerText)?c:"":d;return bf.test(g)&&(g=g.replace(bf,"")),g}function bh(a){return[a.screenX,a.screenY]}"undefined"!=typeof process&&"undefined"!=typeof globalThis&&"undefined"!=typeof Element&&(null==(h=null==process?void 0:process.env)?void 0:h.NODE_ENV)==="test"&&void 0===(null==(i=null==Element?void 0:Element.prototype)?void 0:i.getAnimations)&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var bi=(a=>(a[a.None=0]="None",a[a.Closed=1]="Closed",a[a.Enter=2]="Enter",a[a.Leave=4]="Leave",a))(bi||{});let bj=Math.min,bk=Math.max,bl=Math.round,bm=Math.floor,bn=a=>({x:a,y:a}),bo={left:"right",right:"left",bottom:"top",top:"bottom"},bp={start:"end",end:"start"};function bq(a,b){return"function"==typeof a?a(b):a}function br(a){return a.split("-")[0]}function bs(a){return a.split("-")[1]}function bt(a){return"x"===a?"y":"x"}function bu(a){return"y"===a?"height":"width"}let bv=new Set(["top","bottom"]);function bw(a){return bv.has(br(a))?"y":"x"}function bx(a){return a.replace(/start|end/g,a=>bp[a])}let by=["left","right"],bz=["right","left"],bA=["top","bottom"],bB=["bottom","top"];function bC(a){return a.replace(/left|right|bottom|top/g,a=>bo[a])}function bD(a){let{x:b,y:c,width:d,height:e}=a;return{width:d,height:e,top:c,left:b,right:b+d,bottom:c+e,x:b,y:c}}function bE(){return"undefined"!=typeof window}function bF(a){return bI(a)?(a.nodeName||"").toLowerCase():"#document"}function bG(a){var b;return(null==a||null==(b=a.ownerDocument)?void 0:b.defaultView)||window}function bH(a){var b;return null==(b=(bI(a)?a.ownerDocument:a.document)||window.document)?void 0:b.documentElement}function bI(a){return!!bE()&&(a instanceof Node||a instanceof bG(a).Node)}function bJ(a){return!!bE()&&(a instanceof Element||a instanceof bG(a).Element)}function bK(a){return!!bE()&&(a instanceof HTMLElement||a instanceof bG(a).HTMLElement)}function bL(a){return!!bE()&&"undefined"!=typeof ShadowRoot&&(a instanceof ShadowRoot||a instanceof bG(a).ShadowRoot)}let bM=new Set(["inline","contents"]);function bN(a){let{overflow:b,overflowX:c,overflowY:d,display:e}=bY(a);return/auto|scroll|overlay|hidden|clip/.test(b+d+c)&&!bM.has(e)}let bO=new Set(["table","td","th"]),bP=[":popover-open",":modal"];function bQ(a){return bP.some(b=>{try{return a.matches(b)}catch(a){return!1}})}let bR=["transform","translate","scale","rotate","perspective"],bS=["transform","translate","scale","rotate","perspective","filter"],bT=["paint","layout","strict","content"];function bU(a){let b=bV(),c=bJ(a)?bY(a):a;return bR.some(a=>!!c[a]&&"none"!==c[a])||!!c.containerType&&"normal"!==c.containerType||!b&&!!c.backdropFilter&&"none"!==c.backdropFilter||!b&&!!c.filter&&"none"!==c.filter||bS.some(a=>(c.willChange||"").includes(a))||bT.some(a=>(c.contain||"").includes(a))}function bV(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let bW=new Set(["html","body","#document"]);function bX(a){return bW.has(bF(a))}function bY(a){return bG(a).getComputedStyle(a)}function bZ(a){return bJ(a)?{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}:{scrollLeft:a.scrollX,scrollTop:a.scrollY}}function b$(a){if("html"===bF(a))return a;let b=a.assignedSlot||a.parentNode||bL(a)&&a.host||bH(a);return bL(b)?b.host:b}function b_(a,b,c){var d;void 0===b&&(b=[]),void 0===c&&(c=!0);let e=function a(b){let c=b$(b);return bX(c)?b.ownerDocument?b.ownerDocument.body:b.body:bK(c)&&bN(c)?c:a(c)}(a),f=e===(null==(d=a.ownerDocument)?void 0:d.body),g=bG(e);if(f){let a=b0(g);return b.concat(g,g.visualViewport||[],bN(e)?e:[],a&&c?b_(a):[])}return b.concat(e,b_(e,[],c))}function b0(a){return a.parent&&Object.getPrototypeOf(a.parent)?a.frameElement:null}function b1(a,b,c){let d,{reference:e,floating:f}=a,g=bw(b),h=bt(bw(b)),i=bu(h),j=br(b),k="y"===g,l=e.x+e.width/2-f.width/2,m=e.y+e.height/2-f.height/2,n=e[i]/2-f[i]/2;switch(j){case"top":d={x:l,y:e.y-f.height};break;case"bottom":d={x:l,y:e.y+e.height};break;case"right":d={x:e.x+e.width,y:m};break;case"left":d={x:e.x-f.width,y:m};break;default:d={x:e.x,y:e.y}}switch(bs(b)){case"start":d[h]-=n*(c&&k?-1:1);break;case"end":d[h]+=n*(c&&k?-1:1)}return d}let b2=async(a,b,c)=>{let{placement:d="bottom",strategy:e="absolute",middleware:f=[],platform:g}=c,h=f.filter(Boolean),i=await (null==g.isRTL?void 0:g.isRTL(b)),j=await g.getElementRects({reference:a,floating:b,strategy:e}),{x:k,y:l}=b1(j,d,i),m=d,n={},o=0;for(let c=0;c<h.length;c++){let{name:f,fn:p}=h[c],{x:q,y:r,data:s,reset:t}=await p({x:k,y:l,initialPlacement:d,placement:m,strategy:e,middlewareData:n,rects:j,platform:g,elements:{reference:a,floating:b}});k=null!=q?q:k,l=null!=r?r:l,n={...n,[f]:{...n[f],...s}},t&&o<=50&&(o++,"object"==typeof t&&(t.placement&&(m=t.placement),t.rects&&(j=!0===t.rects?await g.getElementRects({reference:a,floating:b,strategy:e}):t.rects),{x:k,y:l}=b1(j,m,i)),c=-1)}return{x:k,y:l,placement:m,strategy:e,middlewareData:n}};async function b3(a,b){var c,d;void 0===b&&(b={});let{x:e,y:f,platform:g,rects:h,elements:i,strategy:j}=a,{boundary:k="clippingAncestors",rootBoundary:l="viewport",elementContext:m="floating",altBoundary:n=!1,padding:o=0}=bq(b,a),p="number"!=typeof(d=o)?{top:0,right:0,bottom:0,left:0,...d}:{top:d,right:d,bottom:d,left:d},q=i[n?"floating"===m?"reference":"floating":m],r=bD(await g.getClippingRect({element:null==(c=await (null==g.isElement?void 0:g.isElement(q)))||c?q:q.contextElement||await (null==g.getDocumentElement?void 0:g.getDocumentElement(i.floating)),boundary:k,rootBoundary:l,strategy:j})),s="floating"===m?{x:e,y:f,width:h.floating.width,height:h.floating.height}:h.reference,t=await (null==g.getOffsetParent?void 0:g.getOffsetParent(i.floating)),u=await (null==g.isElement?void 0:g.isElement(t))&&await (null==g.getScale?void 0:g.getScale(t))||{x:1,y:1},v=bD(g.convertOffsetParentRelativeRectToViewportRelativeRect?await g.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:s,offsetParent:t,strategy:j}):s);return{top:(r.top-v.top+p.top)/u.y,bottom:(v.bottom-r.bottom+p.bottom)/u.y,left:(r.left-v.left+p.left)/u.x,right:(v.right-r.right+p.right)/u.x}}let b4=new Set(["left","top"]);async function b5(a,b){let{placement:c,platform:d,elements:e}=a,f=await (null==d.isRTL?void 0:d.isRTL(e.floating)),g=br(c),h=bs(c),i="y"===bw(c),j=b4.has(g)?-1:1,k=f&&i?-1:1,l=bq(b,a),{mainAxis:m,crossAxis:n,alignmentAxis:o}="number"==typeof l?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:l.mainAxis||0,crossAxis:l.crossAxis||0,alignmentAxis:l.alignmentAxis};return h&&"number"==typeof o&&(n="end"===h?-1*o:o),i?{x:n*k,y:m*j}:{x:m*j,y:n*k}}function b6(a){let b=bY(a),c=parseFloat(b.width)||0,d=parseFloat(b.height)||0,e=bK(a),f=e?a.offsetWidth:c,g=e?a.offsetHeight:d,h=bl(c)!==f||bl(d)!==g;return h&&(c=f,d=g),{width:c,height:d,$:h}}function b7(a){return bJ(a)?a:a.contextElement}function b8(a){let b=b7(a);if(!bK(b))return bn(1);let c=b.getBoundingClientRect(),{width:d,height:e,$:f}=b6(b),g=(f?bl(c.width):c.width)/d,h=(f?bl(c.height):c.height)/e;return g&&Number.isFinite(g)||(g=1),h&&Number.isFinite(h)||(h=1),{x:g,y:h}}let b9=bn(0);function ca(a){let b=bG(a);return bV()&&b.visualViewport?{x:b.visualViewport.offsetLeft,y:b.visualViewport.offsetTop}:b9}function cb(a,b,c,d){var e;void 0===b&&(b=!1),void 0===c&&(c=!1);let f=a.getBoundingClientRect(),g=b7(a),h=bn(1);b&&(d?bJ(d)&&(h=b8(d)):h=b8(a));let i=(void 0===(e=c)&&(e=!1),d&&(!e||d===bG(g))&&e)?ca(g):bn(0),j=(f.left+i.x)/h.x,k=(f.top+i.y)/h.y,l=f.width/h.x,m=f.height/h.y;if(g){let a=bG(g),b=d&&bJ(d)?bG(d):d,c=a,e=b0(c);for(;e&&d&&b!==c;){let a=b8(e),b=e.getBoundingClientRect(),d=bY(e),f=b.left+(e.clientLeft+parseFloat(d.paddingLeft))*a.x,g=b.top+(e.clientTop+parseFloat(d.paddingTop))*a.y;j*=a.x,k*=a.y,l*=a.x,m*=a.y,j+=f,k+=g,e=b0(c=bG(e))}}return bD({width:l,height:m,x:j,y:k})}function cc(a,b){let c=bZ(a).scrollLeft;return b?b.left+c:cb(bH(a)).left+c}function cd(a,b,c){void 0===c&&(c=!1);let d=a.getBoundingClientRect();return{x:d.left+b.scrollLeft-(c?0:cc(a,d)),y:d.top+b.scrollTop}}let ce=new Set(["absolute","fixed"]);function cf(a,b,c){let d;if("viewport"===b)d=function(a,b){let c=bG(a),d=bH(a),e=c.visualViewport,f=d.clientWidth,g=d.clientHeight,h=0,i=0;if(e){f=e.width,g=e.height;let a=bV();(!a||a&&"fixed"===b)&&(h=e.offsetLeft,i=e.offsetTop)}return{width:f,height:g,x:h,y:i}}(a,c);else if("document"===b)d=function(a){let b=bH(a),c=bZ(a),d=a.ownerDocument.body,e=bk(b.scrollWidth,b.clientWidth,d.scrollWidth,d.clientWidth),f=bk(b.scrollHeight,b.clientHeight,d.scrollHeight,d.clientHeight),g=-c.scrollLeft+cc(a),h=-c.scrollTop;return"rtl"===bY(d).direction&&(g+=bk(b.clientWidth,d.clientWidth)-e),{width:e,height:f,x:g,y:h}}(bH(a));else if(bJ(b))d=function(a,b){let c=cb(a,!0,"fixed"===b),d=c.top+a.clientTop,e=c.left+a.clientLeft,f=bK(a)?b8(a):bn(1),g=a.clientWidth*f.x,h=a.clientHeight*f.y;return{width:g,height:h,x:e*f.x,y:d*f.y}}(b,c);else{let c=ca(a);d={x:b.x-c.x,y:b.y-c.y,width:b.width,height:b.height}}return bD(d)}function cg(a){return"static"===bY(a).position}function ch(a,b){if(!bK(a)||"fixed"===bY(a).position)return null;if(b)return b(a);let c=a.offsetParent;return bH(a)===c&&(c=c.ownerDocument.body),c}function ci(a,b){var c;let d=bG(a);if(bQ(a))return d;if(!bK(a)){let b=b$(a);for(;b&&!bX(b);){if(bJ(b)&&!cg(b))return b;b=b$(b)}return d}let e=ch(a,b);for(;e&&(c=e,bO.has(bF(c)))&&cg(e);)e=ch(e,b);return e&&bX(e)&&cg(e)&&!bU(e)?d:e||function(a){let b=b$(a);for(;bK(b)&&!bX(b);){if(bU(b))return b;if(bQ(b))break;b=b$(b)}return null}(a)||d}let cj=async function(a){let b=this.getOffsetParent||ci,c=this.getDimensions,d=await c(a.floating);return{reference:function(a,b,c){let d=bK(b),e=bH(b),f="fixed"===c,g=cb(a,!0,f,b),h={scrollLeft:0,scrollTop:0},i=bn(0);if(d||!d&&!f)if(("body"!==bF(b)||bN(e))&&(h=bZ(b)),d){let a=cb(b,!0,f,b);i.x=a.x+b.clientLeft,i.y=a.y+b.clientTop}else e&&(i.x=cc(e));f&&!d&&e&&(i.x=cc(e));let j=!e||d||f?bn(0):cd(e,h);return{x:g.left+h.scrollLeft-i.x-j.x,y:g.top+h.scrollTop-i.y-j.y,width:g.width,height:g.height}}(a.reference,await b(a.floating),a.strategy),floating:{x:0,y:0,width:d.width,height:d.height}}},ck={convertOffsetParentRelativeRectToViewportRelativeRect:function(a){let{elements:b,rect:c,offsetParent:d,strategy:e}=a,f="fixed"===e,g=bH(d),h=!!b&&bQ(b.floating);if(d===g||h&&f)return c;let i={scrollLeft:0,scrollTop:0},j=bn(1),k=bn(0),l=bK(d);if((l||!l&&!f)&&(("body"!==bF(d)||bN(g))&&(i=bZ(d)),bK(d))){let a=cb(d);j=b8(d),k.x=a.x+d.clientLeft,k.y=a.y+d.clientTop}let m=!g||l||f?bn(0):cd(g,i,!0);return{width:c.width*j.x,height:c.height*j.y,x:c.x*j.x-i.scrollLeft*j.x+k.x+m.x,y:c.y*j.y-i.scrollTop*j.y+k.y+m.y}},getDocumentElement:bH,getClippingRect:function(a){let{element:b,boundary:c,rootBoundary:d,strategy:e}=a,f=[..."clippingAncestors"===c?bQ(b)?[]:function(a,b){let c=b.get(a);if(c)return c;let d=b_(a,[],!1).filter(a=>bJ(a)&&"body"!==bF(a)),e=null,f="fixed"===bY(a).position,g=f?b$(a):a;for(;bJ(g)&&!bX(g);){let b=bY(g),c=bU(g);c||"fixed"!==b.position||(e=null),(f?!c&&!e:!c&&"static"===b.position&&!!e&&ce.has(e.position)||bN(g)&&!c&&function a(b,c){let d=b$(b);return!(d===c||!bJ(d)||bX(d))&&("fixed"===bY(d).position||a(d,c))}(a,g))?d=d.filter(a=>a!==g):e=b,g=b$(g)}return b.set(a,d),d}(b,this._c):[].concat(c),d],g=f[0],h=f.reduce((a,c)=>{let d=cf(b,c,e);return a.top=bk(d.top,a.top),a.right=bj(d.right,a.right),a.bottom=bj(d.bottom,a.bottom),a.left=bk(d.left,a.left),a},cf(b,g,e));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}},getOffsetParent:ci,getElementRects:cj,getClientRects:function(a){return Array.from(a.getClientRects())},getDimensions:function(a){let{width:b,height:c}=b6(a);return{width:b,height:c}},getScale:b8,isElement:bJ,isRTL:function(a){return"rtl"===bY(a).direction}};function cl(a,b){return a.x===b.x&&a.y===b.y&&a.width===b.width&&a.height===b.height}function cm(a,b,c,d){let e;void 0===d&&(d={});let{ancestorScroll:f=!0,ancestorResize:g=!0,elementResize:h="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:j=!1}=d,k=b7(a),l=f||g?[...k?b_(k):[],...b_(b)]:[];l.forEach(a=>{f&&a.addEventListener("scroll",c,{passive:!0}),g&&a.addEventListener("resize",c)});let m=k&&i?function(a,b){let c,d=null,e=bH(a);function f(){var a;clearTimeout(c),null==(a=d)||a.disconnect(),d=null}return!function g(h,i){void 0===h&&(h=!1),void 0===i&&(i=1),f();let j=a.getBoundingClientRect(),{left:k,top:l,width:m,height:n}=j;if(h||b(),!m||!n)return;let o=bm(l),p=bm(e.clientWidth-(k+m)),q={rootMargin:-o+"px "+-p+"px "+-bm(e.clientHeight-(l+n))+"px "+-bm(k)+"px",threshold:bk(0,bj(1,i))||1},r=!0;function s(b){let d=b[0].intersectionRatio;if(d!==i){if(!r)return g();d?g(!1,d):c=setTimeout(()=>{g(!1,1e-7)},1e3)}1!==d||cl(j,a.getBoundingClientRect())||g(),r=!1}try{d=new IntersectionObserver(s,{...q,root:e.ownerDocument})}catch(a){d=new IntersectionObserver(s,q)}d.observe(a)}(!0),f}(k,c):null,n=-1,o=null;h&&(o=new ResizeObserver(a=>{let[d]=a;d&&d.target===k&&o&&(o.unobserve(b),cancelAnimationFrame(n),n=requestAnimationFrame(()=>{var a;null==(a=o)||a.observe(b)})),c()}),k&&!j&&o.observe(k),o.observe(b));let p=j?cb(a):null;return j&&function b(){let d=cb(a);p&&!cl(p,d)&&c(),p=d,e=requestAnimationFrame(b)}(),c(),()=>{var a;l.forEach(a=>{f&&a.removeEventListener("scroll",c),g&&a.removeEventListener("resize",c)}),null==m||m(),null==(a=o)||a.disconnect(),o=null,j&&cancelAnimationFrame(e)}}var cn="undefined"!=typeof document?k.useLayoutEffect:function(){};function co(a,b){let c,d,e;if(a===b)return!0;if(typeof a!=typeof b)return!1;if("function"==typeof a&&a.toString()===b.toString())return!0;if(a&&b&&"object"==typeof a){if(Array.isArray(a)){if((c=a.length)!==b.length)return!1;for(d=c;0!=d--;)if(!co(a[d],b[d]))return!1;return!0}if((c=(e=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(d=c;0!=d--;)if(!({}).hasOwnProperty.call(b,e[d]))return!1;for(d=c;0!=d--;){let c=e[d];if(("_owner"!==c||!a.$$typeof)&&!co(a[c],b[c]))return!1}return!0}return a!=a&&b!=b}function cp(a){return"undefined"==typeof window?1:(a.ownerDocument.defaultView||window).devicePixelRatio||1}function cq(a,b){let c=cp(a);return Math.round(b*c)/c}function cr(a){let b=k.useRef(a);return cn(()=>{b.current=a}),b}let cs=(a,b)=>({...function(a){return void 0===a&&(a=0),{name:"offset",options:a,async fn(b){var c,d;let{x:e,y:f,placement:g,middlewareData:h}=b,i=await b5(b,a);return g===(null==(c=h.offset)?void 0:c.placement)&&null!=(d=h.arrow)&&d.alignmentOffset?{}:{x:e+i.x,y:f+i.y,data:{...i,placement:g}}}}}(a),options:[a,b]}),ct={...l},cu=ct.useInsertionEffect||(a=>a());function cv(a){let b=k.useRef(()=>{});return cu(()=>{b.current=a}),k.useCallback(function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return null==b.current?void 0:b.current(...c)},[])}var cw="undefined"!=typeof document?k.useLayoutEffect:k.useEffect;let cx=!1,cy=0,cz=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+cy++,cA=ct.useId||function(){let[a,b]=k.useState(()=>cx?cz():void 0);return cw(()=>{null==a&&b(cz())},[]),k.useEffect(()=>{cx=!0},[]),a},cB=k.createContext(null),cC=k.createContext(null),cD="active",cE="selected";function cF(a,b,c){let d=new Map,e="item"===c,f=a;if(e&&a){let{[cD]:b,[cE]:c,...d}=a;f=d}return{..."floating"===c&&{tabIndex:-1,"data-floating-ui-focusable":""},...f,...b.map(b=>{let d=b?b[c]:null;return"function"==typeof d?a?d(a):null:d}).concat(a).reduce((a,b)=>(b&&Object.entries(b).forEach(b=>{let[c,f]=b;if(!(e&&[cD,cE].includes(c)))if(0===c.indexOf("on")){if(d.has(c)||d.set(c,[]),"function"==typeof f){var g;null==(g=d.get(c))||g.push(f),a[c]=function(){for(var a,b=arguments.length,e=Array(b),f=0;f<b;f++)e[f]=arguments[f];return null==(a=d.get(c))?void 0:a.map(a=>a(...e)).find(a=>void 0!==a)}}}else a[c]=f}),a),{})}}function cG(a,b){return{...a,rects:{...a.rects,floating:{...a.rects.floating,height:b}}}}let cH=(0,k.createContext)({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});cH.displayName="FloatingContext";let cI=(0,k.createContext)(null);function cJ({children:a,enabled:b=!0}){var c,d,e,f,g,h,i,j,l;let m,n,o,p,q,r,s,t,u,v,[w,x]=(0,k.useState)(null),[y,z]=(0,k.useState)(0),A=(0,k.useRef)(null),[B,C]=(0,k.useState)(null);ap(()=>{if(!f)return;let a=new MutationObserver(()=>{let a=window.getComputedStyle(f).maxHeight,b=parseFloat(a);if(isNaN(b))return;let c=parseInt(a);isNaN(c)||b!==c&&(f.style.maxHeight=`${Math.ceil(b)}px`)});return a.observe(f,{attributes:!0,attributeFilter:["style"]}),()=>{a.disconnect()}},[f=B]);let D=b&&null!==w&&null!==B,{to:E="bottom",gap:F=0,offset:G=0,padding:H=0,inner:I}=(g=w,h=B,m=cK(null!=(i=null==g?void 0:g.gap)?i:"var(--anchor-gap, 0)",h),n=cK(null!=(j=null==g?void 0:g.offset)?j:"var(--anchor-offset, 0)",h),o=cK(null!=(l=null==g?void 0:g.padding)?l:"var(--anchor-padding, 0)",h),{...g,gap:m,offset:n,padding:o}),[J,K="center"]=E.split(" ");ap(()=>{D&&z(0)},[D]);let{refs:L,floatingStyles:M,context:N}=function(a){void 0===a&&(a={});let{nodeId:b}=a,c=function(a){var b;let{open:c=!1,onOpenChange:d,elements:e}=a,f=cA(),g=k.useRef({}),[h]=k.useState(()=>(function(){let a=new Map;return{emit(b,c){var d;null==(d=a.get(b))||d.forEach(a=>a(c))},on(b,c){a.set(b,[...a.get(b)||[],c])},off(b,c){var d;a.set(b,(null==(d=a.get(b))?void 0:d.filter(a=>a!==c))||[])}}})()),i=null!=((null==(b=k.useContext(cB))?void 0:b.id)||null),[j,l]=k.useState(e.reference),m=cv((a,b,c)=>{g.current.openEvent=a?b:void 0,h.emit("openchange",{open:a,event:b,reason:c,nested:i}),null==d||d(a,b,c)}),n=k.useMemo(()=>({setPositionReference:l}),[]),o=k.useMemo(()=>({reference:j||e.reference||null,floating:e.floating||null,domReference:e.reference}),[j,e.reference,e.floating]);return k.useMemo(()=>({dataRef:g,open:c,onOpenChange:m,elements:o,events:h,floatingId:f,refs:n}),[c,m,o,h,f,n])}({...a,elements:{reference:null,floating:null,...a.elements}}),d=a.rootContext||c,e=d.elements,[f,g]=k.useState(null),[h,i]=k.useState(null),j=(null==e?void 0:e.domReference)||f,l=k.useRef(null),m=k.useContext(cC);cw(()=>{j&&(l.current=j)},[j]);let n=function(a){void 0===a&&(a={});let{placement:b="bottom",strategy:c="absolute",middleware:d=[],platform:e,elements:{reference:f,floating:g}={},transform:h=!0,whileElementsMounted:i,open:j}=a,[l,m]=k.useState({x:0,y:0,strategy:c,placement:b,middlewareData:{},isPositioned:!1}),[n,o]=k.useState(d);co(n,d)||o(d);let[p,q]=k.useState(null),[r,s]=k.useState(null),t=k.useCallback(a=>{a!==x.current&&(x.current=a,q(a))},[]),u=k.useCallback(a=>{a!==y.current&&(y.current=a,s(a))},[]),v=f||p,w=g||r,x=k.useRef(null),y=k.useRef(null),z=k.useRef(l),A=null!=i,B=cr(i),C=cr(e),D=cr(j),E=k.useCallback(()=>{if(!x.current||!y.current)return;let a={placement:b,strategy:c,middleware:n};C.current&&(a.platform=C.current),((a,b,c)=>{let d=new Map,e={platform:ck,...c},f={...e.platform,_c:d};return b2(a,b,{...e,platform:f})})(x.current,y.current,a).then(a=>{let b={...a,isPositioned:!1!==D.current};F.current&&!co(z.current,b)&&(z.current=b,ah.flushSync(()=>{m(b)}))})},[n,b,c,C,D]);cn(()=>{!1===j&&z.current.isPositioned&&(z.current.isPositioned=!1,m(a=>({...a,isPositioned:!1})))},[j]);let F=k.useRef(!1);cn(()=>(F.current=!0,()=>{F.current=!1}),[]),cn(()=>{if(v&&(x.current=v),w&&(y.current=w),v&&w){if(B.current)return B.current(v,w,E);E()}},[v,w,E,B,A]);let G=k.useMemo(()=>({reference:x,floating:y,setReference:t,setFloating:u}),[t,u]),H=k.useMemo(()=>({reference:v,floating:w}),[v,w]),I=k.useMemo(()=>{let a={position:c,left:0,top:0};if(!H.floating)return a;let b=cq(H.floating,l.x),d=cq(H.floating,l.y);return h?{...a,transform:"translate("+b+"px, "+d+"px)",...cp(H.floating)>=1.5&&{willChange:"transform"}}:{position:c,left:b,top:d}},[c,h,H.floating,l.x,l.y]);return k.useMemo(()=>({...l,update:E,refs:G,elements:H,floatingStyles:I}),[l,E,G,H,I])}({...a,elements:{...e,...h&&{reference:h}}}),o=k.useCallback(a=>{let b=bJ(a)?{getBoundingClientRect:()=>a.getBoundingClientRect(),contextElement:a}:a;i(b),n.refs.setReference(b)},[n.refs]),p=k.useCallback(a=>{(bJ(a)||null===a)&&(l.current=a,g(a)),(bJ(n.refs.reference.current)||null===n.refs.reference.current||null!==a&&!bJ(a))&&n.refs.setReference(a)},[n.refs]),q=k.useMemo(()=>({...n.refs,setReference:p,setPositionReference:o,domReference:l}),[n.refs,p,o]),r=k.useMemo(()=>({...n.elements,domReference:j}),[n.elements,j]),s=k.useMemo(()=>({...n,...d,refs:q,elements:r,nodeId:b}),[n,q,r,b,d]);return cw(()=>{d.dataRef.current.floatingContext=s;let a=null==m?void 0:m.nodesRef.current.find(a=>a.id===b);a&&(a.context=s)}),k.useMemo(()=>({...n,context:s,refs:q,elements:r}),[n,q,r,s])}({open:D,placement:"selection"===J?"center"===K?"bottom":`bottom-${K}`:"center"===K?`${J}`:`${J}-${K}`,strategy:"absolute",transform:!1,middleware:[cs({mainAxis:"selection"===J?0:F,crossAxis:G}),{...{name:"shift",options:c=p={padding:H},async fn(a){let{x:b,y:d,placement:e}=a,{mainAxis:f=!0,crossAxis:g=!1,limiter:h={fn:a=>{let{x:b,y:c}=a;return{x:b,y:c}}},...i}=bq(c,a),j={x:b,y:d},k=await b3(a,i),l=bw(br(e)),m=bt(l),n=j[m],o=j[l];if(f){let a="y"===m?"top":"left",b="y"===m?"bottom":"right",c=n+k[a],d=n-k[b];n=bk(c,bj(n,d))}if(g){let a="y"===l?"top":"left",b="y"===l?"bottom":"right",c=o+k[a],d=o-k[b];o=bk(c,bj(o,d))}let p=h.fn({...a,[m]:n,[l]:o});return{...p,data:{x:p.x-b,y:p.y-d,enabled:{[m]:f,[l]:g}}}}},options:[p,q]},"selection"!==J&&{...{name:"flip",options:d=r={padding:H},async fn(a){var b,c,e,f,g;let{placement:h,middlewareData:i,rects:j,initialPlacement:k,platform:l,elements:m}=a,{mainAxis:n=!0,crossAxis:o=!0,fallbackPlacements:p,fallbackStrategy:q="bestFit",fallbackAxisSideDirection:r="none",flipAlignment:s=!0,...t}=bq(d,a);if(null!=(b=i.arrow)&&b.alignmentOffset)return{};let u=br(h),v=bw(k),w=br(k)===k,x=await (null==l.isRTL?void 0:l.isRTL(m.floating)),y=p||(w||!s?[bC(k)]:function(a){let b=bC(a);return[bx(a),b,bx(b)]}(k)),z="none"!==r;!p&&z&&y.push(...function(a,b,c,d){let e=bs(a),f=function(a,b,c){switch(a){case"top":case"bottom":if(c)return b?bz:by;return b?by:bz;case"left":case"right":return b?bA:bB;default:return[]}}(br(a),"start"===c,d);return e&&(f=f.map(a=>a+"-"+e),b&&(f=f.concat(f.map(bx)))),f}(k,s,r,x));let A=[k,...y],B=await b3(a,t),C=[],D=(null==(c=i.flip)?void 0:c.overflows)||[];if(n&&C.push(B[u]),o){let a=function(a,b,c){void 0===c&&(c=!1);let d=bs(a),e=bt(bw(a)),f=bu(e),g="x"===e?d===(c?"end":"start")?"right":"left":"start"===d?"bottom":"top";return b.reference[f]>b.floating[f]&&(g=bC(g)),[g,bC(g)]}(h,j,x);C.push(B[a[0]],B[a[1]])}if(D=[...D,{placement:h,overflows:C}],!C.every(a=>a<=0)){let a=((null==(e=i.flip)?void 0:e.index)||0)+1,b=A[a];if(b&&("alignment"!==o||v===bw(b)||D.every(a=>bw(a.placement)!==v||a.overflows[0]>0)))return{data:{index:a,overflows:D},reset:{placement:b}};let c=null==(f=D.filter(a=>a.overflows[0]<=0).sort((a,b)=>a.overflows[1]-b.overflows[1])[0])?void 0:f.placement;if(!c)switch(q){case"bestFit":{let a=null==(g=D.filter(a=>{if(z){let b=bw(a.placement);return b===v||"y"===b}return!0}).map(a=>[a.placement,a.overflows.filter(a=>a>0).reduce((a,b)=>a+b,0)]).sort((a,b)=>a[1]-b[1])[0])?void 0:g[0];a&&(c=a);break}case"initialPlacement":c=k}if(h!==c)return{reset:{placement:c}}}return{}}},options:[r,s]},"selection"===J&&I?{name:"inner",options:t={...I,padding:H,overflowRef:A,offset:y,minItemsVisible:4,referenceOverflowThreshold:H,onFallbackChange(a){var b,c;if(!a)return;let d=N.elements.floating;if(!d)return;let e=parseFloat(getComputedStyle(d).scrollPaddingBottom)||0,f=Math.min(4,d.childElementCount),g=0,h=0;for(let a of null!=(c=null==(b=N.elements.floating)?void 0:b.childNodes)?c:[])if(aT(a)){let b=a.offsetTop,c=b+a.clientHeight+e,i=d.scrollTop,j=i+d.clientHeight;if(b>=i&&c<=j)f--;else{h=Math.max(0,Math.min(c,j)-Math.max(b,i)),g=a.clientHeight;break}}f>=1&&z(a=>{let b=g*f-h+e;return a>=b?a:b})}},async fn(a){let{listRef:b,overflowRef:c,onFallbackChange:d,offset:e=0,index:f=0,minItemsVisible:g=4,referenceOverflowThreshold:h=0,scrollRef:i,...j}=bq(t,a),{rects:k,elements:{floating:l}}=a,m=b.current[f],n=(null==i?void 0:i.current)||l,o=l.clientTop||n.clientTop,p=0!==l.clientTop,q=0!==n.clientTop,r=l===n;if(!m)return{};let s={...a,...await cs(-m.offsetTop-l.clientTop-k.reference.height/2-m.offsetHeight/2-e).fn(a)},u=await b3(cG(s,n.scrollHeight+o+l.clientTop),j),v=await b3(s,{...j,elementContext:"reference"}),w=bk(0,u.top),x=s.y+w,y=(n.scrollHeight>n.clientHeight?a=>a:bl)(bk(0,n.scrollHeight+(p&&r||q?2*o:0)-w-bk(0,u.bottom)));if(n.style.maxHeight=y+"px",n.scrollTop=w,d){let a=n.offsetHeight<m.offsetHeight*bj(g,b.current.length)-1||v.top>=-h||v.bottom>=-h;ah.flushSync(()=>d(a))}return c&&(c.current=await b3(cG({...s,y:x},n.offsetHeight+o+l.clientTop),j)),{y:x}}}:null,{...{name:"size",options:e=u={padding:H,apply({availableWidth:a,availableHeight:b,elements:c}){Object.assign(c.floating.style,{overflow:"auto",maxWidth:`${a}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${b}px)`})}},async fn(a){var b,c;let d,f,{placement:g,rects:h,platform:i,elements:j}=a,{apply:k=()=>{},...l}=bq(e,a),m=await b3(a,l),n=br(g),o=bs(g),p="y"===bw(g),{width:q,height:r}=h.floating;"top"===n||"bottom"===n?(d=n,f=o===(await (null==i.isRTL?void 0:i.isRTL(j.floating))?"start":"end")?"left":"right"):(f=n,d="end"===o?"top":"bottom");let s=r-m.top-m.bottom,t=q-m.left-m.right,u=bj(r-m[d],s),v=bj(q-m[f],t),w=!a.middlewareData.shift,x=u,y=v;if(null!=(b=a.middlewareData.shift)&&b.enabled.x&&(y=t),null!=(c=a.middlewareData.shift)&&c.enabled.y&&(x=s),w&&!o){let a=bk(m.left,0),b=bk(m.right,0),c=bk(m.top,0),d=bk(m.bottom,0);p?y=q-2*(0!==a||0!==b?a+b:bk(m.left,m.right)):x=r-2*(0!==c||0!==d?c+d:bk(m.top,m.bottom))}await k({...a,availableWidth:y,availableHeight:x});let z=await i.getDimensions(j.floating);return q!==z.width||r!==z.height?{reset:{rects:!0}}:{}}},options:[u,v]}].filter(Boolean),whileElementsMounted:cm}),[O=J,P=K]=N.placement.split("-");"selection"===J&&(O="selection");let Q=(0,k.useMemo)(()=>({anchor:[O,P].filter(Boolean).join(" ")}),[O,P]),{getReferenceProps:R,getFloatingProps:S}=function(a){void 0===a&&(a=[]);let b=a.map(a=>null==a?void 0:a.reference),c=a.map(a=>null==a?void 0:a.floating),d=a.map(a=>null==a?void 0:a.item),e=k.useCallback(b=>cF(b,a,"reference"),b),f=k.useCallback(b=>cF(b,a,"floating"),c),g=k.useCallback(b=>cF(b,a,"item"),d);return k.useMemo(()=>({getReferenceProps:e,getFloatingProps:f,getItemProps:g}),[e,f,g])}([function(a,b){let{open:c,elements:d}=a,{enabled:e=!0,overflowRef:f,scrollRef:g,onChange:h}=b,i=cv(h),j=k.useRef(!1),l=k.useRef(null),m=k.useRef(null);k.useEffect(()=>{if(!e)return;function a(a){if(a.ctrlKey||!b||null==f.current)return;let c=a.deltaY,d=f.current.top>=-.5,e=f.current.bottom>=-.5,g=b.scrollHeight-b.clientHeight,h=c<0?-1:1,j=c<0?"max":"min";!(b.scrollHeight<=b.clientHeight)&&(!d&&c>0||!e&&c<0?(a.preventDefault(),ah.flushSync(()=>{i(a=>a+Math[j](c,g*h))})):/firefox/i.test(function(){let a=navigator.userAgentData;return a&&Array.isArray(a.brands)?a.brands.map(a=>{let{brand:b,version:c}=a;return b+"/"+c}).join(" "):navigator.userAgent}())&&(b.scrollTop+=c))}let b=(null==g?void 0:g.current)||d.floating;if(c&&b)return b.addEventListener("wheel",a),requestAnimationFrame(()=>{l.current=b.scrollTop,null!=f.current&&(m.current={...f.current})}),()=>{l.current=null,m.current=null,b.removeEventListener("wheel",a)}},[e,c,d.floating,f,g,i]);let n=k.useMemo(()=>({onKeyDown(){j.current=!0},onWheel(){j.current=!1},onPointerMove(){j.current=!1},onScroll(){let a=(null==g?void 0:g.current)||d.floating;if(f.current&&a&&j.current){if(null!==l.current){let b=a.scrollTop-l.current;(f.current.bottom<-.5&&b<-1||f.current.top<-.5&&b>1)&&ah.flushSync(()=>i(a=>a+b))}requestAnimationFrame(()=>{l.current=a.scrollTop})}}}),[d.floating,i,f,g]);return k.useMemo(()=>e?{floating:n}:{},[e,n])}(N,{overflowRef:A,onChange:z})]),T=ar(a=>{C(a),L.setFloating(a)});return k.createElement(cI.Provider,{value:x},k.createElement(cH.Provider,{value:{setFloating:T,setReference:L.setReference,styles:M,getReferenceProps:R,getFloatingProps:S,slot:Q}},a))}function cK(a,b,c){let d=ao(),e=ar((a,b)=>{if(null==a)return[c,null];if("number"==typeof a)return[a,null];if("string"==typeof a){if(!b)return[c,null];let e=cL(a,b);return[e,c=>{let f=function a(b){let c=/var\((.*)\)/.exec(b);if(c){let b=c[1].indexOf(",");if(-1===b)return[c[1]];let d=c[1].slice(0,b).trim(),e=c[1].slice(b+1).trim();return e?[d,...a(e)]:[d]}return[]}(a);{let g=f.map(a=>window.getComputedStyle(b).getPropertyValue(a));d.requestAnimationFrame(function h(){d.nextFrame(h);let i=!1;for(let[a,c]of f.entries()){let d=window.getComputedStyle(b).getPropertyValue(c);if(g[a]!==d){g[a]=d,i=!0;break}}if(!i)return;let j=cL(a,b);e!==j&&(c(j),e=j)})}return d.dispose}]}return[c,null]}),f=(0,k.useMemo)(()=>e(a,b)[0],[a,b]),[g=f,h]=(0,k.useState)();return ap(()=>{let[c,d]=e(a,b);if(h(c),d)return d(h)},[a,b]),g}function cL(a,b){let c=document.createElement("div");b.appendChild(c),c.style.setProperty("margin-top","0px","important"),c.style.setProperty("margin-top",a,"important");let d=parseFloat(window.getComputedStyle(c).marginTop)||0;return b.removeChild(c),d}cI.displayName="PlacementContext";let cM=(0,k.createContext)(null);cM.displayName="OpenClosedContext";var cN=(a=>(a[a.Open=1]="Open",a[a.Closed=2]="Closed",a[a.Closing=4]="Closing",a[a.Opening=8]="Opening",a))(cN||{});function cO({value:a,children:b}){return k.createElement(cM.Provider,{value:a},b)}var cP=(a=>(a[a.First=0]="First",a[a.Previous=1]="Previous",a[a.Next=2]="Next",a[a.Last=3]="Last",a[a.Specific=4]="Specific",a[a.Nothing=5]="Nothing",a))(cP||{});function cQ(a,b){let c=b.resolveItems();if(c.length<=0)return null;let d=b.resolveActiveIndex(),e=null!=d?d:-1;switch(a.focus){case 0:for(let a=0;a<c.length;++a)if(!b.resolveDisabled(c[a],a,c))return a;return d;case 1:-1===e&&(e=c.length);for(let a=e-1;a>=0;--a)if(!b.resolveDisabled(c[a],a,c))return a;return d;case 2:for(let a=e+1;a<c.length;++a)if(!b.resolveDisabled(c[a],a,c))return a;return d;case 3:for(let a=c.length-1;a>=0;--a)if(!b.resolveDisabled(c[a],a,c))return a;return d;case 4:for(let d=0;d<c.length;++d)if(b.resolveId(c[d],d,c)===a.id)return d;return d;case 5:return null;default:throw Error("Unexpected object: "+a)}}function cR(...a){return Array.from(new Set(a.flatMap(a=>"string"==typeof a?a.split(" "):[]))).filter(Boolean).join(" ")}var cS=(a=>(a[a.None=0]="None",a[a.RenderStrategy=1]="RenderStrategy",a[a.Static=2]="Static",a))(cS||{}),cT=(a=>(a[a.Unmount=0]="Unmount",a[a.Hidden=1]="Hidden",a))(cT||{});function cU(){let a,b,c=(a=(0,k.useRef)([]),b=(0,k.useCallback)(b=>{for(let c of a.current)null!=c&&("function"==typeof c?c(b):c.current=b)},[]),(...c)=>{if(!c.every(a=>null==a))return a.current=c,b});return(0,k.useCallback)(a=>(function({ourProps:a,theirProps:b,slot:c,defaultTag:d,features:e,visible:f=!0,name:g,mergeRefs:h}){h=null!=h?h:cW;let i=cX(b,a);if(f)return cV(i,c,d,g,h);let j=null!=e?e:0;if(2&j){let{static:a=!1,...b}=i;if(a)return cV(b,c,d,g,h)}if(1&j){let{unmount:a=!0,...b}=i;return aD(+!a,{0:()=>null,1:()=>cV({...b,hidden:!0,style:{display:"none"}},c,d,g,h)})}return cV(i,c,d,g,h)})({mergeRefs:c,...a}),[c])}function cV(a,b={},c,d,e){let{as:f=c,children:g,refName:h="ref",...i}=c_(a,["unmount","static"]),j=void 0!==a.ref?{[h]:a.ref}:{},l="function"==typeof g?g(b):g;"className"in i&&i.className&&"function"==typeof i.className&&(i.className=i.className(b)),i["aria-labelledby"]&&i["aria-labelledby"]===i.id&&(i["aria-labelledby"]=void 0);let m={};if(b){let a=!1,c=[];for(let[d,e]of Object.entries(b))"boolean"==typeof e&&(a=!0),!0===e&&c.push(d.replace(/([A-Z])/g,a=>`-${a.toLowerCase()}`));if(a)for(let a of(m["data-headlessui-state"]=c.join(" "),c))m[`data-${a}`]=""}if(f===k.Fragment&&(Object.keys(c$(i)).length>0||Object.keys(c$(m)).length>0))if(!(0,k.isValidElement)(l)||Array.isArray(l)&&l.length>1){if(Object.keys(c$(i)).length>0)throw Error(['Passing props on "Fragment"!',"",`The current component <${d} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c$(i)).concat(Object.keys(c$(m))).map(a=>`  - ${a}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(a=>`  - ${a}`).join(`
`)].join(`
`))}else{var n;let a=l.props,b=null==a?void 0:a.className,c="function"==typeof b?(...a)=>cR(b(...a),i.className):cR(b,i.className),d=cX(l.props,c$(c_(i,["ref"])));for(let a in m)a in d&&delete m[a];return(0,k.cloneElement)(l,Object.assign({},d,m,j,{ref:e((n=l,k.version.split(".")[0]>="19"?n.props.ref:n.ref),j.ref)},c?{className:c}:{}))}return(0,k.createElement)(f,Object.assign({},c_(i,["ref"]),f!==k.Fragment&&j,f!==k.Fragment&&m),l)}function cW(...a){return a.every(a=>null==a)?void 0:b=>{for(let c of a)null!=c&&("function"==typeof c?c(b):c.current=b)}}function cX(...a){if(0===a.length)return{};if(1===a.length)return a[0];let b={},c={};for(let d of a)for(let a in d)a.startsWith("on")&&"function"==typeof d[a]?(null!=c[a]||(c[a]=[]),c[a].push(d[a])):b[a]=d[a];if(b.disabled||b["aria-disabled"])for(let a in c)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(a)&&(c[a]=[a=>{var b;return null==(b=null==a?void 0:a.preventDefault)?void 0:b.call(a)}]);for(let a in c)Object.assign(b,{[a](b,...d){for(let e of c[a]){if((b instanceof Event||(null==b?void 0:b.nativeEvent)instanceof Event)&&b.defaultPrevented)return;e(b,...d)}}});return b}function cY(...a){if(0===a.length)return{};if(1===a.length)return a[0];let b={},c={};for(let d of a)for(let a in d)a.startsWith("on")&&"function"==typeof d[a]?(null!=c[a]||(c[a]=[]),c[a].push(d[a])):b[a]=d[a];for(let a in c)Object.assign(b,{[a](...b){for(let d of c[a])null==d||d(...b)}});return b}function cZ(a){var b;return Object.assign((0,k.forwardRef)(a),{displayName:null!=(b=a.displayName)?b:a.name})}function c$(a){let b=Object.assign({},a);for(let a in b)void 0===b[a]&&delete b[a];return b}function c_(a,b=[]){let c=Object.assign({},a);for(let a of b)a in c&&delete c[a];return c}let c0=(0,k.createContext)(void 0);function c1(){return(0,k.useContext)(c0)}let c2=(0,k.createContext)(null);c2.displayName="DescriptionContext",Object.assign(cZ(function(a,b){let c=(0,k.useId)(),d=c1(),{id:e=`headlessui-description-${c}`,...f}=a,g=function a(){let b=(0,k.useContext)(c2);if(null===b){let b=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(b,a),b}return b}(),h=be(b);ap(()=>g.register(e),[e,g.register]);let i=d||!1,j=(0,k.useMemo)(()=>({...g.slot,disabled:i}),[g.slot,i]),l={ref:h,...g.props,id:e};return cU()({ourProps:l,theirProps:f,slot:j,defaultTag:"p",name:g.name||"Description"})}),{});var c3=(a=>(a.Space=" ",a.Enter="Enter",a.Escape="Escape",a.Backspace="Backspace",a.Delete="Delete",a.ArrowLeft="ArrowLeft",a.ArrowUp="ArrowUp",a.ArrowRight="ArrowRight",a.ArrowDown="ArrowDown",a.Home="Home",a.End="End",a.PageUp="PageUp",a.PageDown="PageDown",a.Tab="Tab",a))(c3||{});let c4=(0,k.createContext)(void 0),c5=(0,k.createContext)(null);function c6(){let a=(0,k.useContext)(c5);if(null===a){let a=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(a,c6),a}return a}function c7({inherit:a=!1}={}){var b,c,d;let e,f=e=null!=(d=null==(c=(0,k.useContext)(c5))?void 0:c.value)?d:void 0,[g,h]=(0,k.useState)([]),i=a?[f,...g].filter(Boolean):g;return[i.length>0?i.join(" "):void 0,(0,k.useMemo)(()=>function(a){let b=ar(a=>(h(b=>[...b,a]),()=>h(b=>{let c=b.slice(),d=c.indexOf(a);return -1!==d&&c.splice(d,1),c}))),c=(0,k.useMemo)(()=>({register:b,slot:a.slot,name:a.name,props:a.props,value:a.value}),[b,a.slot,a.name,a.props,a.value]);return k.createElement(c5.Provider,{value:c},a.children)},[h])]}c5.displayName="LabelContext",Object.assign(cZ(function(a,b){var c;let d=(0,k.useId)(),e=c6(),f=(0,k.useContext)(c4),g=c1(),{id:h=`headlessui-label-${d}`,htmlFor:i=null!=f?f:null==(c=e.props)?void 0:c.htmlFor,passive:j=!1,...l}=a,m=be(b);ap(()=>e.register(h),[h,e.register]);let n=ar(a=>{var b;let c=a.currentTarget;if(!(a.target!==a.currentTarget&&aS(b=a.target)&&b.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'))&&(aW(c)&&a.preventDefault(),e.props&&"onClick"in e.props&&"function"==typeof e.props.onClick&&e.props.onClick(a),aW(c))){let a=document.getElementById(c.htmlFor);if(a){let b=a.getAttribute("disabled");if("true"===b||""===b)return;let c=a.getAttribute("aria-disabled");if("true"===c||""===c)return;(aV(a)&&("file"===a.type||"radio"===a.type||"checkbox"===a.type)||"radio"===a.role||"checkbox"===a.role||"switch"===a.role)&&a.click(),a.focus({preventScroll:!0})}}}),o=g||!1,p=(0,k.useMemo)(()=>({...e.slot,disabled:o}),[e.slot,o]),q={ref:m,...e.props,id:h,htmlFor:i,onClick:n};return j&&("onClick"in q&&(delete q.htmlFor,delete q.onClick),"onClick"in l&&delete l.onClick),cU()({ourProps:q,theirProps:l,slot:p,defaultTag:i?"label":"div",name:e.name||"Label"})}),{});var c8=(a=>(a[a.Left=0]="Left",a[a.Right=2]="Right",a))(c8||{});function c9(a){ar(a),(0,k.useRef)(!1)}let da=(0,k.createContext)(!1),db=k.Fragment,dc=cZ(function(a,b){let{ownerDocument:c=null,...d}=a,e=(0,k.useRef)(null),f=be(function(a,b=!0){return Object.assign(a,{[bd]:b})}(a=>{e.current=a}),b),g=a9(e),h=null!=c?c:g,i=function(a){let b=(0,k.useContext)(da),c=(0,k.useContext)(de),[d,e]=(0,k.useState)(()=>{var d;if(!b&&null!==c)return null!=(d=c.current)?d:null;if(al.isServer)return null;let e=null==a?void 0:a.getElementById("headlessui-portal-root");if(e)return e;if(null===a)return null;let f=a.createElement("div");return f.setAttribute("id","headlessui-portal-root"),a.body.appendChild(f)});return d}(h),[j]=(0,k.useState)(()=>{var a;return al.isServer?null:null!=(a=null==h?void 0:h.createElement("div"))?a:null}),m=(0,k.useContext)(df),n=function(){let a,b=(a="undefined"==typeof document,"useSyncExternalStore"in l&&(0,l.useSyncExternalStore)(()=>()=>{},()=>!1,()=>!a)),[c,d]=k.useState(al.isHandoffComplete);return c&&!1===al.isHandoffComplete&&d(!1),k.useEffect(()=>{!0!==c&&d(!0)},[c]),k.useEffect(()=>al.handoff(),[]),!b&&c}();ap(()=>{!i||!j||i.contains(j)||(j.setAttribute("data-headlessui-portal",""),i.appendChild(j))},[i,j]),ap(()=>{if(j&&m)return m.register(j)},[m,j]),c9(()=>{var a;i&&j&&(aR(j)&&i.contains(j)&&i.removeChild(j),i.childNodes.length<=0&&(null==(a=i.parentElement)||a.removeChild(i)))});let o=cU();return n&&i&&j?(0,ah.createPortal)(o({ourProps:{ref:f},theirProps:d,slot:{},defaultTag:db,name:"Portal"}),j):null}),dd=k.Fragment,de=(0,k.createContext)(null),df=(0,k.createContext)(null),dg=Object.assign(cZ(function(a,b){let c=be(b),{enabled:d=!0,ownerDocument:e,...f}=a,g=cU();return d?k.createElement(dc,{...f,ownerDocument:e,ref:c}):g({ourProps:{ref:c},theirProps:f,slot:{},defaultTag:db,name:"Portal"})}),{Group:cZ(function(a,b){let{target:c,...d}=a,e={ref:be(b)},f=cU();return k.createElement(de.Provider,{value:c},f({ourProps:e,theirProps:d,defaultTag:dd,name:"Popover.Group"}))})});var dh=Object.defineProperty,di=(a,b,c)=>(((a,b,c)=>b in a?dh(a,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[b]=c)(a,"symbol"!=typeof b?b+"":b,c),c),dj=(a=>(a[a.Open=0]="Open",a[a.Closed=1]="Closed",a))(dj||{}),dk=(a=>(a[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a))(dk||{}),dl=(a=>(a[a.OpenMenu=0]="OpenMenu",a[a.CloseMenu=1]="CloseMenu",a[a.GoToItem=2]="GoToItem",a[a.Search=3]="Search",a[a.ClearSearch=4]="ClearSearch",a[a.RegisterItems=5]="RegisterItems",a[a.UnregisterItems=6]="UnregisterItems",a[a.SetButtonElement=7]="SetButtonElement",a[a.SetItemsElement=8]="SetItemsElement",a[a.SortItems=9]="SortItems",a))(dl||{});function dm(a,b=a=>a){let c=null!==a.activeItemIndex?a.items[a.activeItemIndex]:null,d=a6(b(a.items.slice()),a=>a.dataRef.current.domRef.current),e=c?d.indexOf(c):null;return -1===e&&(e=null),{items:d,activeItemIndex:e}}let dn={1:a=>1===a.menuState?a:{...a,activeItemIndex:null,pendingFocus:{focus:cP.Nothing},menuState:1},0:(a,b)=>0===a.menuState?a:{...a,__demoMode:!1,pendingFocus:b.focus,menuState:0},2:(a,b)=>{var c,d,e,f,g;if(1===a.menuState)return a;let h={...a,searchQuery:"",activationTrigger:null!=(c=b.trigger)?c:1,__demoMode:!1};if(b.focus===cP.Nothing)return{...h,activeItemIndex:null};if(b.focus===cP.Specific)return{...h,activeItemIndex:a.items.findIndex(a=>a.id===b.id)};if(b.focus===cP.Previous){let c=a.activeItemIndex;if(null!==c){let f=a.items[c].dataRef.current.domRef,g=cQ(b,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});if(null!==g){let b=a.items[g].dataRef.current.domRef;if((null==(d=f.current)?void 0:d.previousElementSibling)===b.current||(null==(e=b.current)?void 0:e.previousElementSibling)===null)return{...h,activeItemIndex:g}}}}else if(b.focus===cP.Next){let c=a.activeItemIndex;if(null!==c){let d=a.items[c].dataRef.current.domRef,e=cQ(b,{resolveItems:()=>a.items,resolveActiveIndex:()=>a.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});if(null!==e){let b=a.items[e].dataRef.current.domRef;if((null==(f=d.current)?void 0:f.nextElementSibling)===b.current||(null==(g=b.current)?void 0:g.nextElementSibling)===null)return{...h,activeItemIndex:e}}}}let i=dm(a),j=cQ(b,{resolveItems:()=>i.items,resolveActiveIndex:()=>i.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...h,...i,activeItemIndex:j}},3:(a,b)=>{let c=+(""===a.searchQuery),d=a.searchQuery+b.value.toLowerCase(),e=(null!==a.activeItemIndex?a.items.slice(a.activeItemIndex+c).concat(a.items.slice(0,a.activeItemIndex+c)):a.items).find(a=>{var b;return(null==(b=a.dataRef.current.textValue)?void 0:b.startsWith(d))&&!a.dataRef.current.disabled}),f=e?a.items.indexOf(e):-1;return -1===f||f===a.activeItemIndex?{...a,searchQuery:d}:{...a,searchQuery:d,activeItemIndex:f,activationTrigger:1}},4:a=>""===a.searchQuery?a:{...a,searchQuery:"",searchActiveItemIndex:null},5:(a,b)=>{let c=a.items.concat(b.items.map(a=>a)),d=a.activeItemIndex;return a.pendingFocus.focus!==cP.Nothing&&(d=cQ(a.pendingFocus,{resolveItems:()=>c,resolveActiveIndex:()=>a.activeItemIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled})),{...a,items:c,activeItemIndex:d,pendingFocus:{focus:cP.Nothing},pendingShouldSort:!0}},6:(a,b)=>{let c=a.items,d=[],e=new Set(b.items);for(let[a,b]of c.entries())if(e.has(b.id)&&(d.push(a),e.delete(b.id),0===e.size))break;if(d.length>0)for(let a of(c=c.slice(),d.reverse()))c.splice(a,1);return{...a,items:c,activationTrigger:1}},7:(a,b)=>a.buttonElement===b.element?a:{...a,buttonElement:b.element},8:(a,b)=>a.itemsElement===b.element?a:{...a,itemsElement:b.element},9:a=>a.pendingShouldSort?{...a,...dm(a),pendingShouldSort:!1}:a};class dp extends ay{constructor(a){super(a),di(this,"actions",{registerItem:aC(()=>{let a=[],b=new Set;return[(c,d)=>{b.has(d)||(b.add(d),a.push({id:c,dataRef:d}))},()=>(b.clear(),this.send({type:5,items:a.splice(0)}))]}),unregisterItem:aC(()=>{let a=[];return[b=>a.push(b),()=>this.send({type:6,items:a.splice(0)})]})}),di(this,"selectors",{activeDescendantId(a){var b;let c=a.activeItemIndex,d=a.items;return null===c||null==(b=d[c])?void 0:b.id},isActive(a,b){var c;let d=a.activeItemIndex,e=a.items;return null!==d&&(null==(c=e[d])?void 0:c.id)===b},shouldScrollIntoView(a,b){return!a.__demoMode&&0===a.menuState&&0!==a.activationTrigger&&this.isActive(a,b)}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let a=this.state.id,b=aJ.get(null);this.disposables.add(b.on(aG.Push,c=>{b.selectors.isTop(c,a)||0!==this.state.menuState||this.send({type:1})})),this.on(0,()=>b.actions.push(a)),this.on(1,()=>b.actions.pop(a))}}static new({id:a,__demoMode:b=!1}){return new dp({id:a,__demoMode:b,menuState:+!b,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:cP.Nothing}})}reduce(a,b){return aD(b.type,dn,a,b)}}let dq=(0,k.createContext)(null);function dr(a){let b=(0,k.useContext)(dq);if(null===b){let b=Error(`<${a} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(b,ds),b}return b}function ds({id:a,__demoMode:b=!1}){let c=(0,k.useMemo)(()=>dp.new({id:a,__demoMode:b}),[]);return c9(()=>c.dispose()),c}let dt=k.Fragment,du=cS.RenderStrategy|cS.Static,dv=k.Fragment,dw=cZ(function(a,b){var c;let d,e,f,g,h=(0,k.useId)(),{__demoMode:i=!1,...j}=a,l=ds({id:h,__demoMode:i}),[m,n,o]=aL(l,a=>[a.menuState,a.itemsElement,a.buttonElement]),p=be(b),q=aJ.get(null);aL(q,(0,k.useCallback)(a=>q.selectors.isTop(a,h),[q,h])),c=[o,n],d=aq((a,b)=>{var c;l.send({type:dl.CloseMenu}),a3(b,a2.Loose)||(a.preventDefault(),null==(c=l.state.buttonElement)||c.focus())}),e=(0,k.useCallback)(function(a,b){if(a.defaultPrevented)return;let e=b(a);if(null!==e&&e.getRootNode().contains(e)&&e.isConnected){for(let b of function a(b){return"function"==typeof b?a(b()):Array.isArray(b)||b instanceof Set?b:[b]}(c))if(null!==b&&(b.contains(e)||a.composed&&a.composedPath().includes(b)))return;return a3(e,a2.Loose)||-1===e.tabIndex||a.preventDefault(),d.current(a,e)}},[d,c]),f=(0,k.useRef)(null),aq(a=>{var b,c;a8()||(f.current=(null==(c=null==(b=a.composedPath)?void 0:b.call(a))?void 0:c[0])||a.target)}),aq(a=>{if(a8()||!f.current)return;let b=f.current;return f.current=null,e(a,()=>b)}),g=(0,k.useRef)({x:0,y:0}),aq(a=>{g.current.x=a.touches[0].clientX,g.current.y=a.touches[0].clientY}),aq(a=>{let b={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(b.x-g.current.x)>=30||Math.abs(b.y-g.current.y)>=30))return e(a,()=>aU(a.target)?a.target:null)}),aq(a=>e(a,()=>{var a;return aT(a=window.document.activeElement)&&"IFRAME"===a.nodeName?window.document.activeElement:null}));let r=ar(()=>{l.send({type:dl.CloseMenu})}),s=(0,k.useMemo)(()=>({open:m===dj.Open,close:r}),[m,r]),t=cU();return k.createElement(cJ,null,k.createElement(dq.Provider,{value:l},k.createElement(cO,{value:aD(m,{[dj.Open]:cN.Open,[dj.Closed]:cN.Closed})},t({ourProps:{ref:p},theirProps:j,slot:s,defaultTag:dt,name:"Menu"}))))}),dx=cZ(function(a,b){var c;let d=dr("Menu.Button"),e=(0,k.useId)(),{id:f=`headlessui-menu-button-${e}`,disabled:g=!1,autoFocus:h=!1,...i}=a,j=(0,k.useRef)(null),l=(0,k.useContext)(cH).getReferenceProps,m=be(b,j,(0,k.useContext)(cH).setReference,ar(a=>d.send({type:dl.SetButtonElement,element:a}))),n=ar(a=>{switch(a.key){case c3.Space:case c3.Enter:case c3.ArrowDown:a.preventDefault(),a.stopPropagation(),d.send({type:dl.OpenMenu,focus:{focus:cP.First}});break;case c3.ArrowUp:a.preventDefault(),a.stopPropagation(),d.send({type:dl.OpenMenu,focus:{focus:cP.Last}})}}),o=ar(a=>{a.key===c3.Space&&a.preventDefault()}),[p,q,r]=aL(d,a=>[a.menuState,a.buttonElement,a.itemsElement]);!function(a,{trigger:b,action:c,close:d,select:e}){let f=(0,k.useRef)(null),g=(0,k.useRef)(null),h=(0,k.useRef)(null);aq(a=>{aR(null==a?void 0:a.target)&&null!=b&&b.contains(a.target)&&(g.current=a.x,h.current=a.y,f.current=a.timeStamp)}),aq(a=>{var b,i;let j=f.current;if(null===j||(f.current=null,!aU(a.target))||5>Math.abs(a.x-(null!=(b=g.current)?b:a.x))&&5>Math.abs(a.y-(null!=(i=h.current)?i:a.y)))return;let k=c(a);switch(k.kind){case 0:return;case 1:a.timeStamp-j>200&&(e(k.target),d());break;case 2:d()}})}(dj.Open,{trigger:q,action:(0,k.useCallback)(a=>{if(null!=q&&q.contains(a.target))return bb.Ignore;let b=a.target.closest('[role="menuitem"]:not([data-disabled])');return aT(b)?bb.Select(b):null!=r&&r.contains(a.target)?bb.Ignore:bb.Close},[q,r]),close:(0,k.useCallback)(()=>d.send({type:dl.CloseMenu}),[]),select:(0,k.useCallback)(a=>a.click(),[])});let s=ar(a=>{var b;if(a.button===c8.Left){if(function(a){var b;let c=a.parentElement,d=null;for(;c&&!(aT(b=c)&&"FIELDSET"===b.nodeName);)aX(c)&&(d=c),c=c.parentElement;let e=(null==c?void 0:c.getAttribute("disabled"))==="";return!(e&&function(a){if(!a)return!1;let b=a.previousElementSibling;for(;null!==b;){if(aX(b))return!1;b=b.previousElementSibling}return!0}(d))&&e}(a.currentTarget))return a.preventDefault();g||(p===dj.Open?((0,ah.flushSync)(()=>d.send({type:dl.CloseMenu})),null==(b=j.current)||b.focus({preventScroll:!0})):(a.preventDefault(),d.send({type:dl.OpenMenu,focus:{focus:cP.Nothing},trigger:dk.Pointer})))}}),t=(0,k.useRef)(null),u=ar(a=>{t.current=a.pointerType,"mouse"===a.pointerType&&s(a)}),v=ar(a=>{"mouse"!==t.current&&s(a)}),{isFocusVisible:w,focusProps:x}=function(a={}){var b;let{autoFocus:c=!1,isTextInput:d,within:e}=a,f=(0,k.useRef)({isFocused:!1,isFocusVisible:c||_()}),[g,h]=(0,k.useState)(!1),[i,j]=(0,k.useState)(()=>f.current.isFocused&&f.current.isFocusVisible),l=(0,k.useCallback)(()=>j(f.current.isFocused&&f.current.isFocusVisible),[]),m=(0,k.useCallback)(a=>{f.current.isFocused=a,h(a),l()},[l]);b={isTextInput:d},Z(),(0,k.useEffect)(()=>{let a=(a,c)=>{(function(a,b,c){let d=L(null==c?void 0:c.target),e="undefined"!=typeof window?M(null==c?void 0:c.target).HTMLInputElement:HTMLInputElement,f="undefined"!=typeof window?M(null==c?void 0:c.target).HTMLTextAreaElement:HTMLTextAreaElement,g="undefined"!=typeof window?M(null==c?void 0:c.target).HTMLElement:HTMLElement,h="undefined"!=typeof window?M(null==c?void 0:c.target).KeyboardEvent:KeyboardEvent;return!((a=a||d.activeElement instanceof e&&!aa.has(d.activeElement.type)||d.activeElement instanceof f||d.activeElement instanceof g&&d.activeElement.isContentEditable)&&"keyboard"===b&&c instanceof h&&!S[c.key])})(!!(null==b?void 0:b.isTextInput),a,c)&&(a=>{f.current.isFocusVisible=a,l()})(_())};return O.add(a),()=>{O.delete(a)}},[]);let{focusProps:n}=function(a){let{isDisabled:b,onFocus:c,onBlur:d,onFocusChange:e}=a,f=(0,k.useCallback)(a=>{if(a.target===a.currentTarget)return d&&d(a),e&&e(!1),!0},[d,e]),g=B(f),h=(0,k.useCallback)(a=>{var b;let d=L(a.target),f=d?((a=document)=>a.activeElement)(d):((a=document)=>a.activeElement)();a.target===a.currentTarget&&f===(b=a.nativeEvent,b.target)&&(c&&c(a),e&&e(!0),g(a))},[e,c,g]);return{focusProps:{onFocus:!b&&(c||e||d)?h:void 0,onBlur:!b&&(d||e)?f:void 0}}}({isDisabled:e,onFocusChange:m}),{focusWithinProps:o}=function(a){let{isDisabled:b,onBlurWithin:c,onFocusWithin:d,onFocusWithinChange:e}=a,f=(0,k.useRef)({isFocusWithin:!1}),{addGlobalListener:g,removeAllGlobalListeners:h}=ac(),i=(0,k.useCallback)(a=>{a.currentTarget.contains(a.target)&&f.current.isFocusWithin&&!a.currentTarget.contains(a.relatedTarget)&&(f.current.isFocusWithin=!1,h(),c&&c(a),e&&e(!1))},[c,e,f,h]),j=B(i),l=(0,k.useCallback)(a=>{var b;if(!a.currentTarget.contains(a.target))return;let c=L(a.target),h=((a=document)=>a.activeElement)(c);if(!f.current.isFocusWithin&&h===(b=a.nativeEvent,b.target)){d&&d(a),e&&e(!0),f.current.isFocusWithin=!0,j(a);let b=a.currentTarget;g(c,"focus",a=>{if(f.current.isFocusWithin&&!ab(b,a.target)){let d=new c.defaultView.FocusEvent("blur",{relatedTarget:a.target});Object.defineProperty(d,"target",{value:b}),Object.defineProperty(d,"currentTarget",{value:b}),i(A(d))}},{capture:!0})}},[d,e,j,g,i]);return b?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:l,onBlur:i}}}({isDisabled:!e,onFocusWithinChange:m});return{isFocused:g,isFocusVisible:i,focusProps:e?o:n}}({autoFocus:h}),{isHovered:y,hoverProps:z}=function(a){let{onHoverStart:b,onHoverChange:c,onHoverEnd:d,isDisabled:e}=a,[f,g]=(0,k.useState)(!1),h=(0,k.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,k.useEffect)(ag,[]);let{addGlobalListener:i,removeAllGlobalListeners:j}=ac(),{hoverProps:l,triggerHoverEnd:m}=(0,k.useMemo)(()=>{let a=(a,b)=>{let e=h.target;h.pointerType="",h.target=null,"touch"!==b&&h.isHovered&&e&&(h.isHovered=!1,j(),d&&d({type:"hoverend",target:e,pointerType:b}),c&&c(!1),g(!1))},f={};return"undefined"!=typeof PointerEvent&&(f.onPointerEnter=d=>{ad&&"mouse"===d.pointerType||((d,f)=>{if(h.pointerType=f,e||"touch"===f||h.isHovered||!d.currentTarget.contains(d.target))return;h.isHovered=!0;let j=d.currentTarget;h.target=j,i(L(d.target),"pointerover",b=>{h.isHovered&&h.target&&!ab(h.target,b.target)&&a(b,b.pointerType)},{capture:!0}),b&&b({type:"hoverstart",target:j,pointerType:f}),c&&c(!0),g(!0)})(d,d.pointerType)},f.onPointerLeave=b=>{!e&&b.currentTarget.contains(b.target)&&a(b,b.pointerType)}),{hoverProps:f,triggerHoverEnd:a}},[b,c,d,e,h,i,j]);return(0,k.useEffect)(()=>{e&&m({currentTarget:h.target},h.pointerType)},[e]),{hoverProps:l,isHovered:f}}({isDisabled:g}),{pressed:C,pressProps:D}=function({disabled:a=!1}={}){let b=(0,k.useRef)(null),[c,d]=(0,k.useState)(!1),e=ao(),f=ar(()=>{b.current=null,d(!1),e.dispose()}),g=ar(a=>{if(e.dispose(),null===b.current){b.current=a.currentTarget,d(!0);{let c=am(a.currentTarget);e.addEventListener(c,"pointerup",f,!1),e.addEventListener(c,"pointermove",a=>{if(b.current){var c,e;let f,g;d((f=a.width/2,g=a.height/2,c={top:a.clientY-g,right:a.clientX+f,bottom:a.clientY+g,left:a.clientX-f},e=b.current.getBoundingClientRect(),!(!c||!e||c.right<e.left||c.left>e.right||c.bottom<e.top||c.top>e.bottom)))}},!1),e.addEventListener(c,"pointercancel",f,!1)}}});return{pressed:c,pressProps:a?{}:{onPointerDown:g,onPointerUp:f,onClick:f}}}({disabled:g}),E=(0,k.useMemo)(()=>({open:p===dj.Open,active:C||p===dj.Open,disabled:g,hover:y,focus:w,autofocus:h}),[p,y,w,C,g,h]),F=cY(l(),{ref:m,id:f,type:(c=j.current,(0,k.useMemo)(()=>{var b;if(a.type)return a.type;let d=null!=(b=a.as)?b:"button";if("string"==typeof d&&"button"===d.toLowerCase()||(null==c?void 0:c.tagName)==="BUTTON"&&!c.hasAttribute("type"))return"button"},[a.type,a.as,c])),"aria-haspopup":"menu","aria-controls":null==r?void 0:r.id,"aria-expanded":p===dj.Open,disabled:g||void 0,autoFocus:h,onKeyDown:n,onKeyUp:o,onPointerDown:u,onClick:v},x,z,D);return cU()({ourProps:F,theirProps:i,slot:E,defaultTag:"button",name:"Menu.Button"})}),dy=cZ(function(a,b){let c=(0,k.useId)(),{id:d=`headlessui-menu-items-${c}`,anchor:e,portal:f=!1,modal:g=!0,transition:h=!1,...i}=a,j=(0,k.useMemo)(()=>e?"string"==typeof e?{to:e}:e:null,[e]),l=dr("Menu.Items"),[m,n]=function(a=null){!1===a&&(a=null),"string"==typeof a&&(a={to:a});let b=(0,k.useContext)(cI),c=(0,k.useMemo)(()=>a,[JSON.stringify(a,(a,b)=>{var c;return null!=(c=null==b?void 0:b.outerHTML)?c:b})]);ap(()=>{null==b||b(null!=c?c:null)},[b,c]);let d=(0,k.useContext)(cH);return(0,k.useMemo)(()=>[d.setFloating,a?d.styles:{}],[d.setFloating,a,d.styles])}(j),o=function(){let{getFloatingProps:a,slot:b}=(0,k.useContext)(cH);return(0,k.useCallback)((...c)=>Object.assign({},a(...c),{"data-anchor":b.anchor}),[a,b])}(),[p,q]=(0,k.useState)(null),r=be(b,j?m:null,ar(a=>l.send({type:dl.SetItemsElement,element:a})),q),[s,t]=aL(l,a=>[a.menuState,a.buttonElement]),u=a9(t),v=a9(p);j&&(f=!0);let w=(0,k.useContext)(cM),[x,y]=function(a,b,c,d){let[e,f]=(0,k.useState)(c),{hasFlag:g,addFlag:h,removeFlag:i}=function(a=0){let[b,c]=(0,k.useState)(a),d=(0,k.useCallback)(a=>c(a),[b]),e=(0,k.useCallback)(a=>c(b=>b|a),[b]),f=(0,k.useCallback)(a=>(b&a)===a,[b]);return{flags:b,setFlag:d,addFlag:e,hasFlag:f,removeFlag:(0,k.useCallback)(a=>c(b=>b&~a),[c]),toggleFlag:(0,k.useCallback)(a=>c(b=>b^a),[c])}}(a&&e?3:0),j=(0,k.useRef)(!1),l=(0,k.useRef)(!1);return ap(()=>{if(a){if(c&&f(!0),!b){c&&h(3);return}return function(a,{prepare:b,run:c,done:d,inFlight:e}){let f=an();return function(a,{inFlight:b,prepare:c}){if(null!=b&&b.current)return c();let d=a.style.transition;a.style.transition="none",c(),a.offsetHeight,a.style.transition=d}(a,{prepare:b,inFlight:e}),f.nextFrame(()=>{c(),f.requestAnimationFrame(()=>{f.add(function(a,b){var c,d;let e=an();if(!a)return e.dispose;let f=!1;e.add(()=>{f=!0});let g=null!=(d=null==(c=a.getAnimations)?void 0:c.call(a).filter(a=>a instanceof CSSTransition))?d:[];return 0===g.length?b():Promise.allSettled(g.map(a=>a.finished)).then(()=>{f||b()}),e.dispose}(a,d))})}),f.dispose}(b,{inFlight:j,prepare(){l.current?l.current=!1:l.current=j.current,j.current=!0,l.current||(c?(h(3),i(4)):(h(4),i(2)))},run(){l.current?c?(i(3),h(4)):(i(4),h(3)):c?i(1):h(1)},done(){var a;l.current&&"function"==typeof b.getAnimations&&b.getAnimations().length>0||(j.current=!1,i(7),c||f(!1),a=void 0)}})}},[a,c,b,ao()]),a?[e,{closed:g(1),enter:g(2),leave:g(4),transition:g(2)||g(4)}]:[c,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}(h,p,null!==w?(w&cN.Open)===cN.Open:s===dj.Open);aq(a=>{let b=a.getBoundingClientRect();0===b.x&&0===b.y&&0===b.width&&0===b.height&&(()=>{l.send({type:dl.CloseMenu})})()});let z=aL(l,a=>a.__demoMode);!function(a,b,c=()=>[document.body]){!function(a,b,c=()=>({containers:[]})){let d=(0,k.useSyncExternalStore)(bc.subscribe,bc.getSnapshot,bc.getSnapshot),e=b?d.get(b):void 0;e&&e.count,ap(()=>{if(!(!b||!a))return bc.dispatch("PUSH",b,c),()=>bc.dispatch("POP",b,c)},[a,b])}(aN(a,"scroll-lock"),b,a=>{var b;return{containers:[...null!=(b=a.containers)?b:[],c]}})}(!z&&g&&s===dj.Open,v),function(a,{allowed:b,disallowed:c}={}){let d=aN(a,"inert-others");ap(()=>{var a,e;if(!d)return;let f=an();for(let b of null!=(a=null==c?void 0:c())?a:[])b&&f.add(aQ(b));let g=null!=(e=null==b?void 0:b())?e:[];for(let a of g){if(!a)continue;let b=am(a);if(!b)continue;let c=a.parentElement;for(;c&&c!==b.body;){for(let a of c.children)g.some(b=>a.contains(b))||f.add(aQ(a));c=c.parentElement}}return f.dispose},[d,b,c])}(!z&&g&&s===dj.Open,{allowed:(0,k.useCallback)(()=>[t,p],[t,p])});let A=!function(a,b){let c=(0,k.useRef)({left:0,top:0});if(ap(()=>{if(!b)return;let a=b.getBoundingClientRect();a&&(c.current=a)},[a,b]),null==b||!a||b===document.activeElement)return!1;let d=b.getBoundingClientRect();return d.top!==c.current.top||d.left!==c.current.left}(s!==dj.Open,t)&&x;!function(a,{container:b,accept:c,walk:d}){let e=(0,k.useRef)(c),f=(0,k.useRef)(d);ap(()=>{if(!b||!a)return;let c=am(b);if(!c)return;let d=e.current,g=f.current,h=Object.assign(a=>d(a),{acceptNode:d}),i=c.createTreeWalker(b,NodeFilter.SHOW_ELEMENT,h,!1);for(;i.nextNode();)g(i.currentNode)},[b,a,e,f])}(s===dj.Open,{container:p,accept:a=>"menuitem"===a.getAttribute("role")?NodeFilter.FILTER_REJECT:a.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(a){a.setAttribute("role","none")}});let B=ao(),C=ar(a=>{var b,c,d,e,f;switch(B.dispose(),a.key){case c3.Space:if(""!==l.state.searchQuery)return a.preventDefault(),a.stopPropagation(),l.send({type:dl.Search,value:a.key});case c3.Enter:if(a.preventDefault(),a.stopPropagation(),null!==l.state.activeItemIndex){let{dataRef:a}=l.state.items[l.state.activeItemIndex];null==(c=null==(b=a.current)?void 0:b.domRef.current)||c.click()}l.send({type:dl.CloseMenu}),a4(l.state.buttonElement);break;case c3.ArrowDown:return a.preventDefault(),a.stopPropagation(),l.send({type:dl.GoToItem,focus:cP.Next});case c3.ArrowUp:return a.preventDefault(),a.stopPropagation(),l.send({type:dl.GoToItem,focus:cP.Previous});case c3.Home:case c3.PageUp:return a.preventDefault(),a.stopPropagation(),l.send({type:dl.GoToItem,focus:cP.First});case c3.End:case c3.PageDown:return a.preventDefault(),a.stopPropagation(),l.send({type:dl.GoToItem,focus:cP.Last});case c3.Escape:a.preventDefault(),a.stopPropagation(),(0,ah.flushSync)(()=>l.send({type:dl.CloseMenu})),null==(d=l.state.buttonElement)||d.focus({preventScroll:!0});break;case c3.Tab:a.preventDefault(),a.stopPropagation(),(0,ah.flushSync)(()=>l.send({type:dl.CloseMenu})),e=l.state.buttonElement,f=a.shiftKey?a$.Previous:a$.Next,function(a,b,{sorted:c=!0,relativeTo:d=null,skipElements:e=[]}={}){var f,g,h;let i=Array.isArray(a)?a.length>0?a[0].ownerDocument:document:a.ownerDocument,j=Array.isArray(a)?c?a6(a):a:64&b?function(a=document.body){return null==a?[]:Array.from(a.querySelectorAll(aZ)).sort((a,b)=>Math.sign((a.tabIndex||Number.MAX_SAFE_INTEGER)-(b.tabIndex||Number.MAX_SAFE_INTEGER)))}(a):a1(a);e.length>0&&j.length>1&&(j=j.filter(a=>!e.some(b=>null!=b&&"current"in b?(null==b?void 0:b.current)===a:b===a))),d=null!=d?d:i.activeElement;let k=(()=>{if(5&b)return 1;if(10&b)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(1&b)return 0;if(2&b)return Math.max(0,j.indexOf(d))-1;if(4&b)return Math.max(0,j.indexOf(d))+1;if(8&b)return j.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=32&b?{preventScroll:!0}:{},n=0,o=j.length,p;do{if(n>=o||n+o<=0)return 0;let a=l+n;if(16&b)a=(a+o)%o;else{if(a<0)return 3;if(a>=o)return 1}null==(p=j[a])||p.focus(m),n+=k}while(p!==i.activeElement);6&b&&null!=(h=null==(g=null==(f=p)?void 0:f.matches)?void 0:g.call(f,"textarea,input"))&&h&&p.select()}(a1(),f,{relativeTo:e});break;default:1===a.key.length&&(l.send({type:dl.Search,value:a.key}),B.setTimeout(()=>l.send({type:dl.ClearSearch}),350))}}),D=ar(a=>{a.key===c3.Space&&a.preventDefault()}),E=(0,k.useMemo)(()=>({open:s===dj.Open}),[s]),F=cY(j?o():{},{"aria-activedescendant":aL(l,l.selectors.activeDescendantId),"aria-labelledby":aL(l,a=>{var b;return null==(b=a.buttonElement)?void 0:b.id}),id:d,onKeyDown:C,onKeyUp:D,role:"menu",tabIndex:s===dj.Open?0:void 0,ref:r,style:{...i.style,...n,"--button-width":function(a,b=!1){let[c,d]=(0,k.useReducer)(()=>({}),{}),e=(0,k.useMemo)(()=>(function(a){if(null===a)return{width:0,height:0};let{width:b,height:c}=a.getBoundingClientRect();return{width:b,height:c}})(a),[a,c]);return ap(()=>{if(!a)return;let b=new ResizeObserver(d);return b.observe(a),()=>{b.disconnect()}},[a]),b?{width:`${e.width}px`,height:`${e.height}px`}:e}(t,!0).width},...function(a){let b={};for(let c in a)!0===a[c]&&(b[`data-${c}`]="");return b}(y)}),G=cU();return k.createElement(dg,{enabled:!!f&&(a.static||x),ownerDocument:u},G({ourProps:F,theirProps:i,slot:E,defaultTag:"div",features:du,visible:A,name:"Menu.Items"}))}),dz=cZ(function(a,b){let c,d,e,f=(0,k.useId)(),{id:g=`headlessui-menu-item-${f}`,disabled:h=!1,...i}=a,j=dr("Menu.Item"),l=aL(j,a=>j.selectors.isActive(a,g)),m=(0,k.useRef)(null),n=be(b,m),o=aL(j,a=>j.selectors.shouldScrollIntoView(a,g));ap(()=>{if(o)return an().requestAnimationFrame(()=>{var a,b;null==(b=null==(a=m.current)?void 0:a.scrollIntoView)||b.call(a,{block:"nearest"})})},[o,m]);let p=(c=(0,k.useRef)(""),d=(0,k.useRef)(""),ar(()=>{let a=m.current;if(!a)return"";let b=a.innerText;if(c.current===b)return d.current;let e=(function(a){let b=a.getAttribute("aria-label");if("string"==typeof b)return b.trim();let c=a.getAttribute("aria-labelledby");if(c){let a=c.split(" ").map(a=>{let b=document.getElementById(a);if(b){let a=b.getAttribute("aria-label");return"string"==typeof a?a.trim():bg(b).trim()}return null}).filter(Boolean);if(a.length>0)return a.join(", ")}return bg(a).trim()})(a).trim().toLowerCase();return c.current=b,d.current=e,e})),q=(0,k.useRef)({disabled:h,domRef:m,get textValue(){return p()}});ap(()=>{q.current.disabled=h},[q,h]),ap(()=>(j.actions.registerItem(g,q),()=>j.actions.unregisterItem(g)),[q,g]);let r=ar(()=>{j.send({type:dl.CloseMenu})}),s=ar(a=>{if(h)return a.preventDefault();j.send({type:dl.CloseMenu}),a4(j.state.buttonElement)}),t=ar(()=>{if(h)return j.send({type:dl.GoToItem,focus:cP.Nothing});j.send({type:dl.GoToItem,focus:cP.Specific,id:g})}),u=(e=(0,k.useRef)([-1,-1]),{wasMoved(a){let b=bh(a);return(e.current[0]!==b[0]||e.current[1]!==b[1])&&(e.current=b,!0)},update(a){e.current=bh(a)}}),v=ar(a=>u.update(a)),w=ar(a=>{u.wasMoved(a)&&(h||l||j.send({type:dl.GoToItem,focus:cP.Specific,id:g,trigger:dk.Pointer}))}),x=ar(a=>{u.wasMoved(a)&&(h||l&&j.state.activationTrigger===dk.Pointer&&j.send({type:dl.GoToItem,focus:cP.Nothing}))}),[y,z]=c7(),[A,B]=function(){let[a,b]=(0,k.useState)([]);return[a.length>0?a.join(" "):void 0,(0,k.useMemo)(()=>function(a){let c=ar(a=>(b(b=>[...b,a]),()=>b(b=>{let c=b.slice(),d=c.indexOf(a);return -1!==d&&c.splice(d,1),c}))),d=(0,k.useMemo)(()=>({register:c,slot:a.slot,name:a.name,props:a.props,value:a.value}),[c,a.slot,a.name,a.props,a.value]);return k.createElement(c2.Provider,{value:d},a.children)},[b])]}(),C=(0,k.useMemo)(()=>({active:l,focus:l,disabled:h,close:r}),[l,h,r]),D=cU();return k.createElement(z,null,k.createElement(B,null,D({ourProps:{id:g,ref:n,role:"menuitem",tabIndex:!0===h?void 0:-1,"aria-disabled":!0===h||void 0,"aria-labelledby":y,"aria-describedby":A,disabled:void 0,onClick:s,onFocus:t,onPointerEnter:v,onMouseEnter:v,onPointerMove:w,onMouseMove:w,onPointerLeave:x,onMouseLeave:x},theirProps:i,slot:C,defaultTag:dv,name:"Menu.Item"})))}),dA=Object.assign(dw,{Button:dx,Items:dy,Item:dz,Section:cZ(function(a,b){let[c,d]=c7(),e=cU();return k.createElement(d,null,e({ourProps:{ref:b,"aria-labelledby":c,role:"group"},theirProps:a,slot:{},defaultTag:"div",name:"Menu.Section"}))}),Heading:cZ(function(a,b){let c=(0,k.useId)(),{id:d=`headlessui-menu-heading-${c}`,...e}=a,f=c6();ap(()=>f.register(d),[d,f.register]);let g={id:d,ref:b,role:"presentation",...f.props};return cU()({ourProps:g,theirProps:e,slot:{},defaultTag:"header",name:"Menu.Heading"})}),Separator:cZ(function(a,b){return cU()({ourProps:{ref:b,role:"separator"},theirProps:a,slot:{},defaultTag:"div",name:"Menu.Separator"})})}),dB=(0,r.A)("sticky-note",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]),dC=(0,r.A)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),dD=(0,r.A)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),dE=(0,r.A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function dF({customer:a,messages:b,onSendMessage:c,onCompleteChat:d,onStatusChange:e,onRequestAISuggestion:f,onSaveMemo:g}){let[h,i]=(0,k.useState)(""),[l,m]=(0,k.useState)(null),[n,o]=(0,k.useState)(""),[q,r]=(0,k.useState)(!1),[s,v]=(0,k.useState)(""),y=(0,k.useRef)(null),z=(0,k.useRef)(null);if(!a)return(0,j.jsx)("div",{className:"flex-1 flex items-center justify-center bg-muted/5",children:(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("h3",{className:"text-lg font-medium text-muted-foreground",children:"대화방을 선택해주세요"}),(0,j.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"좌측 고객 목록에서 상담할 고객을 선택하세요"})]})});let A=a=>new Intl.DateTimeFormat("ko-KR",{hour:"2-digit",minute:"2-digit"}).format(a);return(0,j.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,j.jsxs)("div",{className:"border-b p-4 bg-background",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsx)("div",{className:"flex items-center gap-3",children:(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("h3",{className:"font-medium",children:a.name}),(0,j.jsx)(u,{channel:a.channel,className:"w-4 h-4"})]})}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsxs)(w.$,{variant:"ghost",size:"sm",onClick:()=>r(!q),className:"gap-1",children:[(0,j.jsx)(dB,{className:"h-4 w-4"}),"메모"]}),(0,j.jsxs)(dA,{as:"div",className:"relative",children:[(0,j.jsxs)(dx,{className:"inline-flex items-center justify-center gap-2 rounded-md border border-input bg-background px-3 py-1.5 text-sm font-medium hover:bg-accent hover:text-accent-foreground transition-colors min-w-[100px]",children:[(0,j.jsx)("span",{children:"completed"===a.status?"완료":"진행 중"}),(0,j.jsx)(dC,{className:"h-4 w-4"})]}),(0,j.jsx)(dy,{transition:!0,className:"absolute right-0 z-10 mt-2 w-32 origin-top-right rounded-md bg-background border border-border shadow-lg outline-none transition data-[closed]:scale-95 data-[closed]:opacity-0 data-[enter]:duration-100 data-[leave]:duration-75",children:(0,j.jsxs)("div",{className:"py-1",children:[(0,j.jsx)(dz,{children:(0,j.jsx)("button",{onClick:()=>e?.("processing"),className:(0,t.cn)("block w-full px-4 py-2 text-left text-sm hover:bg-accent hover:text-accent-foreground data-[focus]:bg-accent data-[focus]:text-accent-foreground transition-colors","processing"===a.status&&"bg-accent"),children:"진행 중"})}),(0,j.jsx)(dz,{children:(0,j.jsx)("button",{onClick:()=>e?.("completed"),className:(0,t.cn)("block w-full px-4 py-2 text-left text-sm hover:bg-accent hover:text-accent-foreground data-[focus]:bg-accent data-[focus]:text-accent-foreground transition-colors","completed"===a.status&&"bg-accent"),children:"완료"})})]})})]})]})]}),q&&(0,j.jsxs)("div",{className:"mt-3 p-3 bg-yellow-50 dark:bg-yellow-950/20 rounded-lg",children:[(0,j.jsx)(x,{value:s,onChange:a=>v(a.target.value),placeholder:"고객에 대한 메모를 입력하세요...",className:"min-h-[80px] resize-none bg-transparent border-0 p-0 focus-visible:ring-0 text-sm"}),(0,j.jsxs)("div",{className:"flex justify-end mt-2 gap-2",children:[(0,j.jsx)(w.$,{size:"sm",variant:"ghost",onClick:()=>{r(!1),v(a?.memo||"")},children:"취소"}),(0,j.jsx)(w.$,{size:"sm",onClick:()=>{a&&g&&g(a.id,s),r(!1)},children:"저장"})]})]})]}),(0,j.jsx)("div",{className:"flex-1 overflow-hidden bg-gray-50/40 dark:bg-gray-950/20",children:(0,j.jsx)("div",{className:"h-full overflow-y-auto p-4",ref:y,children:b.map((a,c)=>{let d,e,g,h=A(a.timestamp),i=b[c+1],k=i?A(i.timestamp):null,q=b[c-1],r=q?A(q.timestamp):null,s=!i||k!==h||i.isFromCustomer!==a.isFromCustomer,u=q&&r===h&&q.isFromCustomer===a.isFromCustomer,v=!q||(d=q.timestamp,e=a.timestamp,d.getFullYear()!==e.getFullYear()||d.getMonth()!==e.getMonth()||d.getDate()!==e.getDate());return(0,j.jsxs)("div",{children:[v&&(0,j.jsxs)("div",{className:"flex items-center my-4",children:[(0,j.jsx)("div",{className:"flex-1 border-t border-border"}),(0,j.jsx)("span",{className:"px-4 text-xs text-muted-foreground",children:(g=a.timestamp,new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"long",day:"numeric",weekday:"long"}).format(g))}),(0,j.jsx)("div",{className:"flex-1 border-t border-border"})]}),(0,j.jsx)("div",{className:(0,t.cn)("flex",a.isFromCustomer?"justify-start":"justify-end",u?"mt-1":"mt-4"),children:(0,j.jsxs)("div",{className:(0,t.cn)("flex gap-2 items-end max-w-[70%]",!a.isFromCustomer&&"flex-row-reverse"),children:[(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)("div",{className:(0,t.cn)("rounded-lg px-4 py-2 customer-message",a.isFromCustomer?"bg-muted cursor-pointer hover:bg-muted/80 transition-colors":"bg-primary text-primary-foreground"),onClick:b=>{b.stopPropagation(),a.isFromCustomer&&m(a.id===l?null:a.id)},children:(0,j.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:a.content})}),a.isFromCustomer&&l===a.id&&(0,j.jsx)("div",{className:"absolute left-0 top-full mt-1 z-10 bg-background border rounded-lg shadow-lg p-2.5 ai-suggestion-button",style:{minWidth:"240px"},children:(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsx)(p.p,{type:"text",placeholder:"어떻게 답변할까요? (선택)",value:n,onChange:a=>o(a.target.value),className:"h-7 text-xs",onClick:a=>a.stopPropagation(),onKeyDown:b=>{"Enter"===b.key&&(b.stopPropagation(),b.preventDefault(),f?.({...a,tone:n.trim()?"custom":"auto",customPrompt:n.trim()}),m(null),o(""))}}),(0,j.jsxs)(w.$,{size:"sm",variant:"default",className:"h-8 text-xs gap-1.5 w-full hover:bg-violet-600",onClick:b=>{b.stopPropagation(),f?.({...a,tone:n.trim()?"custom":"auto",customPrompt:n.trim()}),m(null),o("")},children:[(0,j.jsx)("svg",{className:"w-3.5 h-3.5",viewBox:"0 0 16 16",fill:"currentColor",children:(0,j.jsx)("path",{fillRule:"evenodd",d:"M5 4a.75.75 0 0 1 .738.616l.252 1.388A1.25 1.25 0 0 0 6.996 7.01l1.388.252a.75.75 0 0 1 0 1.476l-1.388.252A1.25 1.25 0 0 0 5.99 9.996l-.252 1.388a.75.75 0 0 1-1.476 0L4.01 9.996A1.25 1.25 0 0 0 3.004 8.99l-1.388-.252a.75.75 0 0 1 0-1.476l1.388-.252A1.25 1.25 0 0 0 4.01 6.004l.252-1.388A.75.75 0 0 1 5 4ZM12 1a.75.75 0 0 1 .721.544l.195.682c.118.415.443.74.858.858l.682.195a.75.75 0 0 1 0 1.442l-.682.195a1.25 1.25 0 0 0-.858.858l-.195.682a.75.75 0 0 1-1.442 0l-.195-.682a1.25 1.25 0 0 0-.858-.858l-.682-.195a.75.75 0 0 1 0-1.442l.682-.195a1.25 1.25 0 0 0 .858-.858l.195-.682A.75.75 0 0 1 12 1ZM10 11a.75.75 0 0 1 .728.568.968.968 0 0 0 .704.704.75.75 0 0 1 0 1.456.968.968 0 0 0-.704.704.75.75 0 0 1-1.456 0 .968.968 0 0 0-.704-.704.75.75 0 0 1 0-1.456.968.968 0 0 0 .704-.704A.75.75 0 0 1 10 11Z",clipRule:"evenodd"})}),(0,j.jsx)("span",{children:"AI 답변 추천 받기"})]})]})})]}),s&&(0,j.jsx)("span",{className:"text-xs text-muted-foreground shrink-0",children:h}),!s&&(0,j.jsx)("div",{className:"w-10"})]})})]},a.id)})})}),(0,j.jsx)("div",{className:"border-t p-4 bg-background",children:(0,j.jsxs)("div",{className:"flex items-end gap-2",children:[(0,j.jsx)(w.$,{variant:"ghost",size:"icon",className:"shrink-0",children:(0,j.jsx)(dD,{className:"h-5 w-5"})}),(0,j.jsx)("div",{className:"flex-1",children:(0,j.jsx)(x,{ref:z,value:h,onChange:a=>{i(a.target.value),z.current&&(z.current.style.height="40px",z.current.style.height=Math.min(z.current.scrollHeight,120)+"px")},placeholder:"메시지를 입력하세요... (Enter로 줄바꿈)",className:"resize-none overflow-y-auto",style:{minHeight:"40px",maxHeight:"120px",scrollbarWidth:"thin",scrollbarColor:"rgba(156, 163, 175, 0.4) transparent"},rows:1})}),(0,j.jsx)(w.$,{onClick:()=>{h.trim()&&(c(h),i(""),z.current&&(z.current.style.height="40px",z.current.focus()))},disabled:!h.trim(),size:"icon",className:"shrink-0",children:(0,j.jsx)(dE,{className:"h-5 w-5"})})]})})]})}var dG=c(5119),dH=c(708),dI=c(9405),dJ=c(733),dK=c(578),dL=c(3663),dM=c(512);function dN({onUseQuickReply:a,activeTab:b,onTabChange:c,aiSuggestions:d=[]}){let[e,f]=(0,k.useState)(""),[g,h]=(0,k.useState)(null),[i,l]=(0,k.useState)(null),[m,r]=(0,k.useState)("situation"),[u,v]=(0,k.useState)(null),[x,y]=(0,k.useState)(!1),[z,A]=(0,k.useState)(-1),[B,C]=(0,k.useState)(["q1","q2","q3"]),[D,E]=(0,k.useState)(["favorites"]),F=(b,c)=>{a?a(b):navigator.clipboard.writeText(b),l(c),setTimeout(()=>l(null),2e3)},G=a=>new Intl.NumberFormat("ko-KR").format(a),H=a=>{v(u===a?null:a)},I=a=>{C(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},J=a=>{E(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},K=dM.F.procedures.filter(a=>a.name.toLowerCase().includes(e.toLowerCase()));return(0,j.jsxs)("div",{className:"w-96 h-full bg-muted/10 border-l flex flex-col",children:[(0,j.jsx)("div",{className:"p-4",children:(0,j.jsx)("h2",{className:"text-lg font-semibold",children:"상담 어시스턴트"})}),(0,j.jsxs)(o.tU,{value:b||m,onValueChange:c||r,className:"flex-1 flex flex-col overflow-hidden",children:[(0,j.jsx)("div",{className:"px-4 pt-3 pb-2",children:(0,j.jsxs)(o.j7,{className:"grid w-full grid-cols-4",children:[(0,j.jsx)(o.Xi,{value:"ai",className:"text-xs px-1 text-violet-600 data-[state=active]:text-violet-600 data-[state=active]:bg-violet-50 dark:data-[state=active]:bg-violet-950/30",children:(0,j.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 16 16",fill:"currentColor",children:(0,j.jsx)("path",{fillRule:"evenodd",d:"M5 4a.75.75 0 0 1 .738.616l.252 1.388A1.25 1.25 0 0 0 6.996 7.01l1.388.252a.75.75 0 0 1 0 1.476l-1.388.252A1.25 1.25 0 0 0 5.99 9.996l-.252 1.388a.75.75 0 0 1-1.476 0L4.01 9.996A1.25 1.25 0 0 0 3.004 8.99l-1.388-.252a.75.75 0 0 1 0-1.476l1.388-.252A1.25 1.25 0 0 0 4.01 6.004l.252-1.388A.75.75 0 0 1 5 4ZM12 1a.75.75 0 0 1 .721.544l.195.682c.118.415.443.74.858.858l.682.195a.75.75 0 0 1 0 1.442l-.682.195a1.25 1.25 0 0 0-.858.858l-.195.682a.75.75 0 0 1-1.442 0l-.195-.682a1.25 1.25 0 0 0-.858-.858l-.682-.195a.75.75 0 0 1 0-1.442l.682-.195a1.25 1.25 0 0 0 .858-.858l.195-.682A.75.75 0 0 1 12 1ZM10 11a.75.75 0 0 1 .728.568.968.968 0 0 0 .704.704.75.75 0 0 1 0 1.456.968.968 0 0 0-.704.704.75.75 0 0 1-1.456 0 .968.968 0 0 0-.704-.704.75.75 0 0 1 0-1.456.968.968 0 0 0 .704-.704A.75.75 0 0 1 10 11Z",clipRule:"evenodd"})})}),(0,j.jsx)(o.Xi,{value:"situation",className:"text-xs px-1",children:"기본"}),(0,j.jsx)(o.Xi,{value:"doctors",className:"text-xs px-1",children:"시술 검색"}),(0,j.jsx)(o.Xi,{value:"reference",className:"text-xs px-1",children:"참고"})]})}),(0,j.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,j.jsx)(o.av,{value:"ai",className:"h-full",children:(0,j.jsx)(n.F,{className:"h-full px-4 mt-4",children:(0,j.jsx)("div",{className:"space-y-3 pb-4",children:d.length>0?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{className:"text-sm font-medium text-muted-foreground",children:"AI 추천 답변"}),d.map((a,b)=>(0,j.jsxs)(dG.Zp,{className:"",children:[(0,j.jsx)(dG.aR,{className:"p-3 pb-2",children:(0,j.jsx)(dG.ZB,{className:"text-xs flex items-center justify-between",children:(0,j.jsxs)("span",{className:"flex items-center gap-2",children:[(0,j.jsxs)("span",{className:"text-violet-600 font-medium",children:["추천 ",b+1]}),(0,j.jsx)("span",{className:"text-muted-foreground",children:a.title})]})})}),(0,j.jsxs)(dG.Wu,{className:"p-3 pt-0",children:[(0,j.jsx)("p",{className:"text-xs text-muted-foreground whitespace-pre-line mb-2",children:a.content}),(0,j.jsxs)(w.$,{size:"sm",variant:i===a.id?"default":"outline",className:"w-full h-7 text-xs",onClick:()=>F(a.content,a.id),children:[(0,j.jsx)(dH.A,{className:"w-3 h-3 mr-1"}),i===a.id?"복사됨!":"복사"]})]})]},a.id))]}):(0,j.jsxs)("div",{className:"text-center py-8",children:[(0,j.jsx)("svg",{className:"w-12 h-12 mx-auto mb-3 text-violet-500/30",viewBox:"0 0 16 16",fill:"currentColor",children:(0,j.jsx)("path",{fillRule:"evenodd",d:"M5 4a.75.75 0 0 1 .738.616l.252 1.388A1.25 1.25 0 0 0 6.996 7.01l1.388.252a.75.75 0 0 1 0 1.476l-1.388.252A1.25 1.25 0 0 0 5.99 9.996l-.252 1.388a.75.75 0 0 1-1.476 0L4.01 9.996A1.25 1.25 0 0 0 3.004 8.99l-1.388-.252a.75.75 0 0 1 0-1.476l1.388-.252A1.25 1.25 0 0 0 4.01 6.004l.252-1.388A.75.75 0 0 1 5 4ZM12 1a.75.75 0 0 1 .721.544l.195.682c.118.415.443.74.858.858l.682.195a.75.75 0 0 1 0 1.442l-.682.195a1.25 1.25 0 0 0-.858.858l-.195.682a.75.75 0 0 1-1.442 0l-.195-.682a1.25 1.25 0 0 0-.858-.858l-.682-.195a.75.75 0 0 1 0-1.442l.682-.195a1.25 1.25 0 0 0 .858-.858l.195-.682A.75.75 0 0 1 12 1ZM10 11a.75.75 0 0 1 .728.568.968.968 0 0 0 .704.704.75.75 0 0 1 0 1.456.968.968 0 0 0-.704.704.75.75 0 0 1-1.456 0 .968.968 0 0 0-.704-.704.75.75 0 0 1 0-1.456.968.968 0 0 0 .704-.704A.75.75 0 0 1 10 11Z",clipRule:"evenodd"})}),(0,j.jsxs)("p",{className:"text-xs text-muted-foreground",children:["고객 메시지를 클릭하고",(0,j.jsx)("br",{}),"'AI 답변 추천 받기'를 눌러보세요"]})]})})})}),(0,j.jsx)(o.av,{value:"situation",className:"h-full",children:(0,j.jsx)(n.F,{className:"h-full px-4 mt-4",children:(0,j.jsxs)("div",{className:"space-y-3 pb-4",children:[B.length>0&&(0,j.jsxs)("div",{children:[(0,j.jsxs)("button",{onClick:()=>J("favorites"),className:"flex items-center gap-1 w-full text-left mb-2",children:[(0,j.jsx)(dI.A,{className:(0,t.cn)("w-3 h-3 transition-transform",D.includes("favorites")&&"rotate-90")}),(0,j.jsx)("h3",{className:"text-sm font-medium",children:"즐겨찾기"})]}),D.includes("favorites")&&(0,j.jsx)("div",{className:"space-y-2",children:[...dM.F.quickAnswers,...dM.F.situations.flatMap(a=>a.answers)].filter(a=>B.includes(a.id)).map(a=>(0,j.jsxs)(dG.Zp,{className:"cursor-pointer",onClick:()=>H(a.id),children:[(0,j.jsx)(dG.aR,{className:"p-3",children:(0,j.jsxs)(dG.ZB,{className:"text-xs flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("button",{onClick:b=>{b.stopPropagation(),I(a.id)},children:(0,j.jsx)(dJ.A,{className:(0,t.cn)("w-3 h-3 transition-colors",B.includes(a.id)?"fill-yellow-500 text-yellow-500":"text-muted-foreground")})}),a.title]}),(0,j.jsx)(dI.A,{className:(0,t.cn)("w-3 h-3 transition-transform",u===a.id&&"rotate-90")})]})}),u===a.id&&(0,j.jsxs)(dG.Wu,{className:"p-3 pt-0",children:[(0,j.jsx)("p",{className:"text-xs text-muted-foreground whitespace-pre-line mb-2",children:a.content}),(0,j.jsxs)(w.$,{size:"sm",variant:i===a.id?"default":"outline",className:"w-full h-7 text-xs",onClick:b=>{b.stopPropagation(),F(a.content,a.id)},children:[(0,j.jsx)(dH.A,{className:"w-3 h-3 mr-1"}),i===a.id?"복사됨!":"복사"]})]})]},a.id))})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("button",{onClick:()=>J("basic"),className:"flex items-center gap-1 w-full text-left mb-2",children:[(0,j.jsx)(dI.A,{className:(0,t.cn)("w-3 h-3 transition-transform",D.includes("basic")&&"rotate-90")}),(0,j.jsx)("h3",{className:"text-sm font-medium",children:"기본 안내"})]}),D.includes("basic")&&(0,j.jsx)("div",{className:"space-y-2",children:dM.F.quickAnswers.filter(a=>"basic"===a.category).map(a=>(0,j.jsxs)(dG.Zp,{className:"cursor-pointer",onClick:()=>H(a.id),children:[(0,j.jsx)(dG.aR,{className:"p-3",children:(0,j.jsxs)(dG.ZB,{className:"text-xs flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("button",{onClick:b=>{b.stopPropagation(),I(a.id)},children:(0,j.jsx)(dJ.A,{className:(0,t.cn)("w-3 h-3 transition-colors",B.includes(a.id)?"fill-yellow-500 text-yellow-500":"text-muted-foreground")})}),a.title]}),(0,j.jsx)(dI.A,{className:(0,t.cn)("w-3 h-3 transition-transform",u===a.id&&"rotate-90")})]})}),u===a.id&&(0,j.jsxs)(dG.Wu,{className:"p-3 pt-0",children:[(0,j.jsx)("p",{className:"text-xs text-muted-foreground whitespace-pre-line mb-2",children:a.content}),(0,j.jsxs)(w.$,{size:"sm",variant:i===a.id?"default":"outline",className:"w-full h-7 text-xs",onClick:b=>{b.stopPropagation(),F(a.content,a.id)},children:[(0,j.jsx)(dH.A,{className:"w-3 h-3 mr-1"}),i===a.id?"복사됨!":"복사"]})]})]},a.id))})]}),dM.F.situations.map(a=>(0,j.jsxs)("div",{children:[(0,j.jsxs)("button",{onClick:()=>J(a.id),className:"flex items-center gap-1 w-full text-left mb-2",children:[(0,j.jsx)(dI.A,{className:(0,t.cn)("w-3 h-3 transition-transform",D.includes(a.id)&&"rotate-90")}),(0,j.jsx)("h3",{className:"text-sm font-medium",children:a.name})]}),D.includes(a.id)&&(0,j.jsx)("div",{className:"space-y-2",children:a.answers.map(a=>(0,j.jsxs)(dG.Zp,{className:"cursor-pointer",onClick:()=>H(a.id),children:[(0,j.jsx)(dG.aR,{className:"p-3",children:(0,j.jsxs)(dG.ZB,{className:"text-xs flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("button",{onClick:b=>{b.stopPropagation(),I(a.id)},children:(0,j.jsx)(dJ.A,{className:(0,t.cn)("w-3 h-3 transition-colors",B.includes(a.id)?"fill-yellow-500 text-yellow-500":"text-muted-foreground")})}),a.title]}),(0,j.jsx)(dI.A,{className:(0,t.cn)("w-3 h-3 transition-transform",u===a.id&&"rotate-90")})]})}),u===a.id&&(0,j.jsxs)(dG.Wu,{className:"p-3 pt-0",children:[(0,j.jsx)("p",{className:"text-xs text-muted-foreground whitespace-pre-line mb-2",children:a.content}),(0,j.jsxs)(w.$,{size:"sm",variant:i===a.id?"default":"outline",className:"w-full h-7 text-xs",onClick:b=>{b.stopPropagation(),F(a.content,a.id)},children:[(0,j.jsx)(dH.A,{className:"w-3 h-3 mr-1"}),i===a.id?"복사됨!":"복사"]})]})]},a.id))})]},a.id))]})})}),(0,j.jsxs)(o.av,{value:"doctors",className:"h-full flex flex-col",children:[(0,j.jsx)("div",{className:"px-4 mb-3",children:(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsx)(q.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-3 w-3 text-muted-foreground"}),(0,j.jsx)(p.p,{type:"text",placeholder:"시술명 검색...",value:e,onChange:a=>{f(a.target.value),y(a.target.value.length>0),A(-1),""===a.target.value&&h(null)},onKeyDown:a=>{if("ArrowDown"===a.key)a.preventDefault(),A(a=>a<K.length-1?a+1:a);else if("ArrowUp"===a.key)a.preventDefault(),A(a=>a>0?a-1:-1);else if("Enter"===a.key&&z>=0){a.preventDefault();let b=K[z];b&&(h(b.name),f(b.name),y(!1),A(-1))}else"Escape"===a.key&&(y(!1),A(-1))},onFocus:()=>e&&y(!0),onBlur:()=>setTimeout(()=>y(!1),200),className:(0,t.cn)("pl-8 h-8 text-xs",e&&"pr-8")}),e&&(0,j.jsx)("button",{onClick:()=>{f(""),h(null),y(!1)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-0.5 hover:bg-accent rounded",children:(0,j.jsx)(s,{className:"h-3 w-3 text-muted-foreground"})}),x&&K.length>0&&(0,j.jsx)("div",{className:"absolute top-full left-0 right-0 mt-1 bg-background border rounded-md shadow-lg z-10 max-h-48 overflow-auto",children:K.map((a,b)=>(0,j.jsx)("button",{className:(0,t.cn)("w-full text-left px-3 py-2 hover:bg-accent text-xs transition-colors",z===b&&"bg-accent"),onMouseDown:()=>{h(a.name),f(a.name),y(!1),A(-1)},children:(0,j.jsx)("div",{className:"font-medium",children:a.name})},a.id))})]})}),(0,j.jsx)(n.F,{className:"flex-1 px-4",children:(0,j.jsxs)("div",{className:"pb-4",children:[g&&(0,j.jsxs)("div",{className:"space-y-4",children:[(()=>{let a=dM.F.procedures.find(a=>a.name===g);return a?(0,j.jsxs)(dG.Zp,{className:"bg-accent/50",children:[(0,j.jsxs)(dG.aR,{className:"p-3 pb-2",children:[(0,j.jsx)(dG.ZB,{className:"text-sm",children:a.name}),(0,j.jsx)("p",{className:"text-[11px] text-muted-foreground mt-1",children:a.description})]}),(0,j.jsxs)(dG.Wu,{className:"p-3 pt-1 space-y-2",children:[(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-muted-foreground text-[10px]",children:"가격"}),(0,j.jsxs)("p",{className:"font-medium text-[11px]",children:[G(a.priceRange.min/1e4),"~",G(a.priceRange.max/1e4),"만원"]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-muted-foreground text-[10px]",children:"소요시간"}),(0,j.jsx)("p",{className:"font-medium text-[11px]",children:a.duration})]})]}),(0,j.jsxs)(w.$,{size:"sm",variant:i===a.id?"default":"outline",className:"w-full h-7 text-xs",onClick:()=>{F(`${a.name}

가격: ${G(a.priceRange.min)}원 ~ ${G(a.priceRange.max)}원
소요시간: ${a.duration}

주의사항:
${a.precautions.join("\n")}`,a.id)},children:[(0,j.jsx)(dH.A,{className:"w-3 h-3 mr-1"}),i===a.id?"복사됨!":"복사"]})]})]}):null})(),(0,j.jsxs)("div",{className:"space-y-2",children:[(0,j.jsx)("h4",{className:"text-xs font-medium text-muted-foreground",children:"시술 가능 의사"}),dM.F.doctors.map(a=>{let b=a.procedures.find(a=>a.procedureName===g);return b?(0,j.jsx)(dG.Zp,{className:(0,t.cn)("border","expert"===b.proficiency&&"border-blue-200 bg-blue-50/50 dark:border-blue-900 dark:bg-blue-950/20","available"===b.proficiency&&"border-green-200 bg-green-50/50 dark:border-green-900 dark:bg-green-950/20","unavailable"===b.proficiency&&"border-red-200 bg-red-50/50 dark:border-red-900 dark:bg-red-950/20"),children:(0,j.jsx)(dG.Wu,{className:"p-3",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("div",{className:"w-8 h-8 bg-background rounded-full flex items-center justify-center border",children:(0,j.jsx)(dK.A,{className:"w-4 h-4"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm font-medium",children:a.name}),(0,j.jsx)("p",{className:"text-[10px] text-muted-foreground",children:a.title})]})]}),(0,j.jsx)("div",{className:"text-right",children:(0,j.jsxs)("p",{className:(0,t.cn)("text-xs font-medium","expert"===b.proficiency&&"text-blue-600","available"===b.proficiency&&"text-green-600","unavailable"===b.proficiency&&"text-red-500"),children:["expert"===b.proficiency&&"숙련","available"===b.proficiency&&"가능","unavailable"===b.proficiency&&"불가"]})})]})})},a.id):null}).filter(Boolean)]})]}),!g&&(0,j.jsxs)("div",{className:"mt-8 text-center",children:[(0,j.jsx)(q.A,{className:"w-12 h-12 mx-auto text-muted-foreground/30 mb-3"}),(0,j.jsxs)("p",{className:"text-xs text-muted-foreground",children:["시술명을 검색하면",(0,j.jsx)("br",{}),"상세 정보와 가능한 의사를",(0,j.jsx)("br",{}),"확인할 수 있습니다"]})]})]})})]}),(0,j.jsx)(o.av,{value:"reference",className:"h-full",children:(0,j.jsx)(n.F,{className:"h-full px-4 mt-4",children:(0,j.jsxs)("div",{className:"space-y-2 pb-4",children:[(0,j.jsx)("button",{className:"w-full text-left hover:bg-accent rounded-lg transition-colors p-3 border",children:(0,j.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)(dL.A,{className:"w-3 h-3 text-muted-foreground"}),(0,j.jsx)("p",{className:"text-xs font-medium",children:"8월 이벤트 리스트"})]}),(0,j.jsx)(dI.A,{className:"w-3 h-3 text-muted-foreground"})]})}),(0,j.jsx)("button",{className:"w-full text-left hover:bg-accent rounded-lg transition-colors p-3 border",children:(0,j.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)(dL.A,{className:"w-3 h-3 text-muted-foreground"}),(0,j.jsx)("p",{className:"text-xs font-medium",children:"가격 정책 가이드라인"})]}),(0,j.jsx)(dI.A,{className:"w-3 h-3 text-muted-foreground"})]})}),(0,j.jsx)("button",{className:"w-full text-left hover:bg-accent rounded-lg transition-colors p-3 border",children:(0,j.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)(dL.A,{className:"w-3 h-3 text-muted-foreground"}),(0,j.jsx)("p",{className:"text-xs font-medium",children:"고객 불만 처리 가이드라인"})]}),(0,j.jsx)(dI.A,{className:"w-3 h-3 text-muted-foreground"})]})})]})})})]})]})]})}let dO=[{id:"1",name:"김민수",channel:"kakao",lastMessage:"혹시 단체 예약 할인도 있나요? 그리고 주차장도 이용 가능한지 알고 싶습니다.",lastMessageTime:new Date("2024-01-20T10:30:00"),status:"processing",unreadCount:2},{id:"2",name:"이영희",channel:"instagram",lastMessage:"교환 및 환불은 상품 수령 후 7일 이내 가능하시며, 단순 변심의 경우 왕복 배송비는 고객님 부담입니다. 상품 하자의 경우 무료로 교환/환불 도와드리고 있습니다.",lastMessageTime:new Date("2024-01-20T10:27:00"),status:"waiting-customer"},{id:"3",name:"박철수",channel:"naver",lastMessage:"감사합니다!",lastMessageTime:new Date("2024-01-20T10:22:00"),status:"completed"},{id:"4",name:"최지은",channel:"wechat",lastMessage:"가격 문의드려요",lastMessageTime:new Date("2024-01-20T10:15:00"),status:"processing",unreadCount:1},{id:"5",name:"정현우",channel:"line",lastMessage:"네, 교환 정책 안내드리겠습니다.",lastMessageTime:new Date("2024-01-20T10:11:00"),status:"waiting-other"},{id:"6",name:"강서연",channel:"kakao",lastMessage:"네, 알겠습니다. 감사합니다!",lastMessageTime:new Date("2024-01-23T15:45:00"),status:"completed"}],dP={1:[{id:"m1",customerId:"1",content:"안녕하세요, 예약 문의드립니다. 이번 주말에 가족 4명이 함께 방문하려고 하는데 토요일 오후 2시경 예약 가능한지 궁금합니다.",timestamp:new Date("2024-01-20T10:29:00"),isFromCustomer:!0,channel:"kakao"},{id:"m2",customerId:"1",content:"혹시 단체 예약 할인도 있나요? 그리고 주차장도 이용 가능한지 알고 싶습니다.",timestamp:new Date("2024-01-20T10:30:00"),isFromCustomer:!0,channel:"kakao"}],2:[{id:"m3",customerId:"2",content:"인스타그램에서 본 신상품이 너무 예쁜데 현재 재고가 있나요? 사이즈는 S, M 중에 고민중이에요.",timestamp:new Date("2024-01-20T10:24:00"),isFromCustomer:!0,channel:"instagram"},{id:"m4",customerId:"2",content:"실물 색상이 사진과 똑같은지도 궁금하고, 혹시 교환이나 환불 정책도 알려주실 수 있나요?",timestamp:new Date("2024-01-20T10:25:00"),isFromCustomer:!0,channel:"instagram"},{id:"m5",customerId:"2",content:"네, 재고 확인해드리겠습니다. S, M 사이즈 모두 재고가 있습니다. 색상은 실제로 보시면 사진보다 약간 더 밝은 편이에요.",timestamp:new Date("2024-01-20T10:26:00"),isFromCustomer:!1,channel:"instagram"},{id:"m6",customerId:"2",content:"교환 및 환불은 상품 수령 후 7일 이내 가능하시며, 단순 변심의 경우 왕복 배송비는 고객님 부담입니다. 상품 하자의 경우 무료로 교환/환불 도와드리고 있습니다.",timestamp:new Date("2024-01-20T10:27:00"),isFromCustomer:!1,channel:"instagram"}],3:[{id:"m5",customerId:"3",content:"배송 언제 되나요?",timestamp:new Date("2024-01-20T10:20:00"),isFromCustomer:!0,channel:"naver"},{id:"m6",customerId:"3",content:"오늘 출고되어 내일 도착 예정입니다.",timestamp:new Date("2024-01-20T10:21:00"),isFromCustomer:!1,channel:"naver"},{id:"m7",customerId:"3",content:"감사합니다!",timestamp:new Date("2024-01-20T10:22:00"),isFromCustomer:!0,channel:"naver"}],4:[{id:"m8",customerId:"4",content:"가격 문의드려요",timestamp:new Date("2024-01-20T10:15:00"),isFromCustomer:!0,channel:"wechat"}],5:[{id:"m9",customerId:"5",content:"교환 가능한가요?",timestamp:new Date("2024-01-20T10:10:00"),isFromCustomer:!0,channel:"line"},{id:"m10",customerId:"5",content:"네, 교환 정책 안내드리겠습니다.",timestamp:new Date("2024-01-20T10:11:00"),isFromCustomer:!1,channel:"line"}],6:[{id:"m11",customerId:"6",content:"안녕하세요, 홈페이지에서 본 상품 문의드립니다.",timestamp:new Date("2024-01-18T14:20:00"),isFromCustomer:!0,channel:"kakao"},{id:"m12",customerId:"6",content:"A-1234 모델이 현재 재고가 있나요?",timestamp:new Date("2024-01-18T14:21:00"),isFromCustomer:!0,channel:"kakao"},{id:"m13",customerId:"6",content:"안녕하세요! 문의 감사합니다. A-1234 모델 재고 확인해드리겠습니다.",timestamp:new Date("2024-01-18T14:25:00"),isFromCustomer:!1,channel:"kakao"},{id:"m14",customerId:"6",content:"현재 블랙, 화이트 색상 모두 재고 보유중입니다. 사이즈는 어떤 걸 찾으시나요?",timestamp:new Date("2024-01-18T14:26:00"),isFromCustomer:!1,channel:"kakao"},{id:"m15",customerId:"6",content:"L 사이즈 블랙으로 구매하고 싶습니다",timestamp:new Date("2024-01-18T14:30:00"),isFromCustomer:!0,channel:"kakao"},{id:"m16",customerId:"6",content:"네, L 사이즈 블랙 재고 있습니다. 구매 도와드릴까요?",timestamp:new Date("2024-01-18T14:32:00"),isFromCustomer:!1,channel:"kakao"},{id:"m17",customerId:"6",content:"안녕하세요, 그때 주문한 상품 배송 언제쯤 될까요?",timestamp:new Date("2024-01-20T09:15:00"),isFromCustomer:!0,channel:"kakao"},{id:"m18",customerId:"6",content:"주문번호 확인 부탁드립니다.",timestamp:new Date("2024-01-20T09:20:00"),isFromCustomer:!1,channel:"kakao"},{id:"m19",customerId:"6",content:"ORD-20240118-1234 입니다",timestamp:new Date("2024-01-20T09:22:00"),isFromCustomer:!0,channel:"kakao"},{id:"m20",customerId:"6",content:"확인했습니다. 현재 배송 준비중이며, 오늘 오후에 출고 예정입니다.",timestamp:new Date("2024-01-20T09:25:00"),isFromCustomer:!1,channel:"kakao"},{id:"m21",customerId:"6",content:"송장번호는 출고 완료되면 문자로 발송드리겠습니다.",timestamp:new Date("2024-01-20T09:25:30"),isFromCustomer:!1,channel:"kakao"},{id:"m22",customerId:"6",content:"송장번호 받았습니다. 언제쯤 도착할까요?",timestamp:new Date("2024-01-21T11:10:00"),isFromCustomer:!0,channel:"kakao"},{id:"m23",customerId:"6",content:"보통 출고 후 1-2일 내 도착합니다. 내일 받으실 수 있을 것 같습니다.",timestamp:new Date("2024-01-21T11:15:00"),isFromCustomer:!1,channel:"kakao"},{id:"m24",customerId:"6",content:"상품 잘 받았습니다!",timestamp:new Date("2024-01-23T15:30:00"),isFromCustomer:!0,channel:"kakao"},{id:"m25",customerId:"6",content:"품질도 좋고 배송도 빨라서 만족합니다",timestamp:new Date("2024-01-23T15:31:00"),isFromCustomer:!0,channel:"kakao"},{id:"m26",customerId:"6",content:"상품 만족하신다니 다행입니다! 이용해주셔서 감사합니다.",timestamp:new Date("2024-01-23T15:40:00"),isFromCustomer:!1,channel:"kakao"},{id:"m27",customerId:"6",content:"혹시 불편하신 점이나 추가 문의사항 있으시면 언제든 연락주세요.",timestamp:new Date("2024-01-23T15:41:00"),isFromCustomer:!1,channel:"kakao"},{id:"m28",customerId:"6",content:"네, 알겠습니다. 감사합니다!",timestamp:new Date("2024-01-23T15:45:00"),isFromCustomer:!0,channel:"kakao"}]},dQ=(0,r.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),dR=(0,r.A)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),dS=(0,r.A)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]);var dT=c(5523);function dU(){let[a,b]=(0,k.useState)(dO),[c,d]=(0,k.useState)(null),[e,f]=(0,k.useState)(dP),[g,h]=(0,k.useState)(!1),[i,l]=(0,k.useState)("situation"),[m,n]=(0,k.useState)([]),{theme:o,setTheme:p}=(0,dT.D)(),q=a.find(a=>a.id===c)||null,r=c&&e[c]||[];return g?(0,j.jsxs)("div",{className:"h-screen flex flex-col",children:[(0,j.jsxs)("header",{className:"h-14 border-b flex items-center justify-between px-4 bg-background",children:[(0,j.jsxs)("div",{className:"flex items-center gap-4",children:[(0,j.jsx)("h1",{className:"text-xl font-bold",children:"AllChat"}),(0,j.jsx)("span",{className:"text-sm text-muted-foreground",children:"통합 메신저 상담 관리 시스템"})]}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)(w.$,{variant:"ghost",size:"icon",children:(0,j.jsx)(dQ,{className:"h-5 w-5"})}),(0,j.jsx)(w.$,{variant:"ghost",size:"icon",onClick:()=>p("dark"===o?"light":"dark"),children:"dark"===o?(0,j.jsx)(dR,{className:"h-5 w-5"}):(0,j.jsx)(dS,{className:"h-5 w-5"})})]})]}),(0,j.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,j.jsx)("div",{className:"w-80",children:(0,j.jsx)(v,{customers:a,selectedCustomerId:c,onSelectCustomer:a=>{d(a),b(b=>b.map(b=>b.id===a?{...b,unreadCount:0}:b))}})}),(0,j.jsx)(dF,{customer:q,messages:r,onSendMessage:a=>{if(!c)return;let d={id:`m${Date.now()}`,customerId:c,content:a,timestamp:new Date,isFromCustomer:!1,channel:q?.channel||"kakao"};f(a=>({...a,[c]:[...a[c]||[],d]})),b(b=>b.map(b=>b.id===c?{...b,status:"waiting-customer",lastMessage:a,lastMessageTime:new Date}:b))},onCompleteChat:()=>{c&&b(a=>a.map(a=>a.id===c?{...a,status:"completed"}:a))},onStatusChange:a=>{c&&b(b=>b.map(b=>b.id===c?{...b,status:a}:b))},onRequestAISuggestion:a=>{n([{id:"ai-1",title:"친절한 안내",content:`안녕하세요! 문의주신 내용 확인했습니다. \uD83D\uDE0A

${a.content.includes("예약")?"예약은 전화(02-1234-5678) 또는 카카오톡 채널로 가능합니다.":""}
${a.content.includes("가격")?"정확한 비용은 상담을 통해 안내드리겠습니다.":""}
${a.content.includes("시간")?"운영시간은 평일 10:00-19:00, 토요일 10:00-17:00 입니다.":""}

추가 문의사항이 있으신가요?`},{id:"ai-2",title:"전문적인 안내",content:`고객님 문의주신 내용 확인하였습니다.

${a.content.includes("예약")?"예약 시스템:\n- 온라인 예약: 24시간 가능\n- 전화 예약: 운영시간 내\n- 당일 예약은 어려울 수 있습니다.":""}
${a.content.includes("가격")?"시술 비용은 개인별 상태에 따라 달라질 수 있어 상담 후 정확한 견적을 제공해드립니다.":""}
${a.content.includes("시간")?"저희 병원 운영시간은 다음과 같습니다:\n평일: 10:00-19:00\n토요일: 10:00-17:00\n일요일/공휴일: 휴무":""}`},{id:"ai-3",title:"간결한 안내",content:`네, 확인했습니다.

${a.content.includes("예약")?"• 예약: 02-1234-5678":""}
${a.content.includes("가격")?"• 비용: 상담 후 안내":""}
${a.content.includes("시간")?"• 운영: 평일 10-19시, 토 10-17시":""}

도와드릴 다른 사항이 있을까요?`}]),l("ai")},onSaveMemo:(a,c)=>{b(b=>b.map(b=>b.id===a?{...b,memo:c}:b))}}),(0,j.jsx)(dN,{onUseQuickReply:a=>{navigator.clipboard.writeText(a)},activeTab:i,onTabChange:l,aiSuggestions:m})]})]}):null}},6385:(a,b,c)=>{Promise.resolve().then(c.bind(c,4193))},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},7742:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>d});let d=(0,c(7954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jsshin/Desktop/allchat/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jsshin/Desktop/allchat/app/page.tsx","default")},8354:a=>{"use strict";a.exports=require("util")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9909:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(9754),e=c(9117),f=c(6595),g=c(2324),h=c(6945),i=c(8928),j=c(175),k=c(7631),l=c(4290),m=c(2696),n=c(2802),o=c(7533),p=c(5229),q=c(2822),r=c(261),s=c(6453),t=c(2474),u=c(6713),v=c(1356),w=c(2685),x=c(6225),y=c(3446),z=c(2762),A=c(5742),B=c(6439),C=c(1170),D=c.n(C),E=c(2506),F=c(1203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,7742)),"/Users/jsshin/Desktop/allchat/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(c.bind(c,6953)),"/Users/jsshin/Desktop/allchat/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,1170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.t.bind(c,7028,23)),"next/dist/client/components/builtin/not-found.js"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,2768,23)),"next/dist/client/components/builtin/unauthorized.js"]}],I=["/Users/jsshin/Desktop/allchat/app/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(3873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},9937:(a,b,c)=>{Promise.resolve().then(c.bind(c,7742))}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[535,104,148,216],()=>b(b.s=9909));module.exports=c})();